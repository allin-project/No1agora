<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SportsCommunity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        /* ë°˜ì‘í˜• ê¸°ë³¸ ì„¤ì • */
        * {
            box-sizing: border-box;
        }
        
        /* ëª¨ë°”ì¼ ìš°ì„  ë””ìì¸ */
        .container {
            max-width: 100%;
            padding: 0 16px;
        }
        
        /* íƒœë¸”ë¦¿ */
        @media (min-width: 768px) {
            .container {
                max-width: 768px;
                margin: 0 auto;
                padding: 0 24px;
            }
        }
        
        /* ë°ìŠ¤í¬í†± */
        @media (min-width: 1024px) {
            .container {
                max-width: 1024px;
                padding: 0 32px;
            }
        }
        
        /* ëŒ€í˜• ë°ìŠ¤í¬í†± */
        @media (min-width: 1280px) {
            .container {
                max-width: 1280px;
            }
        }
        
        /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ */
        .mobile-nav {
            display: block;
        }
        
        .desktop-nav {
            display: none;
        }
        
        @media (min-width: 768px) {
            .mobile-nav {
                display: none;
            }
            
            .desktop-nav {
                display: block;
            }
        }
        
        /* ëª¨ë°”ì¼ í•˜ë‹¨ íƒ­ë°” */
        .mobile-bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            z-index: 50;
            display: flex;
            justify-content: space-around;
            padding: 8px 0 calc(8px + env(safe-area-inset-bottom));
        }
        
        .mobile-bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 12px;
            color: #6b7280;
            text-decoration: none;
            transition: color 0.2s;
            min-width: 0;
            flex: 1;
        }
        
        .mobile-bottom-nav-item.active {
            color: #667eea;
        }
        
        .mobile-bottom-nav-item:hover {
            color: #667eea;
        }
        
        .mobile-bottom-nav-item span {
            font-size: 10px;
            margin-top: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }
        
        @media (min-width: 768px) {
            .mobile-bottom-nav {
                display: none;
            }
        }
        
        /* ëª¨ë°”ì¼ì—ì„œ í•˜ë‹¨ íƒ­ë°” ê³µê°„ í™•ë³´ */
        .mobile-content-padding {
            padding-bottom: calc(80px + env(safe-area-inset-bottom));
        }
        
        @media (min-width: 768px) {
            .mobile-content-padding {
                padding-bottom: 0;
            }
        }
        
        /* ëª¨ë°”ì¼ í”Œë¡œíŒ… ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì • */
        .floating-btn {
            position: fixed;
            bottom: calc(90px + env(safe-area-inset-bottom));
            right: 20px;
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .floating-btn {
                bottom: 20px;
            }
        }
        
        /* ëª¨ë°”ì¼ ê²€ìƒ‰ë°” */
        .mobile-search-bar {
            position: sticky;
            top: 0;
            z-index: 40;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 12px 16px;
        }
        
        @media (min-width: 768px) {
            .mobile-search-bar {
                display: none;
            }
        }
        
        /* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ */
        .responsive-grid {
            display: grid;
            gap: 16px;
        }
        
        @media (min-width: 640px) {
            .responsive-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
        }
        
        @media (min-width: 1024px) {
            .responsive-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 24px;
            }
        }
        
        /* ëª¨ë°”ì¼ ëª¨ë‹¬ */
        .mobile-modal {
            position: fixed;
            inset: 0;
            z-index: 60;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 0;
        }
        
        .mobile-modal-content {
            background: white;
            width: 100%;
            max-height: 90vh;
            border-radius: 20px 20px 0 0;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-modal.show .mobile-modal-content {
            transform: translateY(0);
        }
        
        @media (min-width: 768px) {
            .mobile-modal {
                align-items: center;
                padding: 16px;
            }
            
            .mobile-modal-content {
                width: auto;
                max-width: 500px;
                max-height: 80vh;
                border-radius: 16px;
                transform: scale(0.9);
                opacity: 0;
            }
            
            .mobile-modal.show .mobile-modal-content {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* í„°ì¹˜ ì¹œí™”ì  ë²„íŠ¼ í¬ê¸° */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ëª¨ë°”ì¼ í…ìŠ¤íŠ¸ í¬ê¸° */
        .mobile-text-sm {
            font-size: 14px;
        }
        
        .mobile-text-base {
            font-size: 16px;
        }
        
        .mobile-text-lg {
            font-size: 18px;
        }
        
        @media (min-width: 768px) {
            .mobile-text-sm {
                font-size: 12px;
            }
            
            .mobile-text-base {
                font-size: 14px;
            }
            
            .mobile-text-lg {
                font-size: 16px;
            }
        }
        
        /* ëª¨ë°”ì¼ ìŠ¤í¬ë¡¤ ìµœì í™” */
        .mobile-scroll {
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }
        
        /* ëª¨ë°”ì¼ ë“œë˜ê·¸ ë°©ì§€ */
        .no-drag {
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            user-drag: none;
        }
        
        /* ëª¨ë°”ì¼ ì„ íƒ ë°©ì§€ */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* ëª¨ë°”ì¼ íƒ­ íš¨ê³¼ */
        .mobile-tap-highlight {
            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
        }
        
        /* ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ ì˜ì—­ */
        .swipe-area {
            touch-action: pan-x;
        }
        
        /* ëª¨ë°”ì¼ í‚¤ë³´ë“œ ëŒ€ì‘ */
        .keyboard-adjust {
            transition: all 0.3s ease;
        }
        
        /* ëª¨ë°”ì¼ ì•ˆì „ ì˜ì—­ */
        .safe-area-top {
            padding-top: env(safe-area-inset-top);
        }
        
        .safe-area-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .safe-area-left {
            padding-left: env(safe-area-inset-left);
        }
        
        .safe-area-right {
            padding-right: env(safe-area-inset-right);
        }
        
        /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¬ë¼ì´ë“œ */
        .mobile-nav-slide {
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-nav-slide.open {
            transform: translateX(0);
        }
        
        /* ë°˜ì‘í˜• ì´ë¯¸ì§€ */
        .responsive-image {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        
        /* ëª¨ë°”ì¼ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .mobile-card {
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 16px;
        }
        
        @media (min-width: 768px) {
            .mobile-card {
                border-radius: 16px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                margin-bottom: 24px;
            }
        }
        
        /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
        @media (max-width: 640px) {
            .text-xs { font-size: 11px; }
            .text-sm { font-size: 13px; }
            .text-base { font-size: 15px; }
            .text-lg { font-size: 17px; }
            .text-xl { font-size: 19px; }
            .text-2xl { font-size: 22px; }
            .text-3xl { font-size: 26px; }
        }
        
        /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
        @media (max-width: 640px) {
            .space-y-6 > * + * { margin-top: 1rem; }
            .space-y-4 > * + * { margin-top: 0.75rem; }
            .space-x-4 > * + * { margin-left: 0.75rem; }
            .p-6 { padding: 1rem; }
            .p-4 { padding: 0.75rem; }
            .px-6 { padding-left: 1rem; padding-right: 1rem; }
            .py-6 { padding-top: 1rem; padding-bottom: 1rem; }
        }
        
        /* ëª¨ë°”ì¼ ë²„íŠ¼ í¬ê¸° */
        @media (max-width: 640px) {
            .btn-mobile {
                padding: 12px 16px;
                font-size: 14px;
                border-radius: 8px;
            }
        }
        
        /* ëª¨ë°”ì¼ ì…ë ¥ í•„ë“œ */
        @media (max-width: 640px) {
            .input-mobile {
                padding: 12px 16px;
                font-size: 16px; /* iOS ì¤Œ ë°©ì§€ */
                border-radius: 8px;
            }
        }
        
        /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ì˜¤ë²„ë ˆì´ */
        .mobile-nav-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .mobile-nav-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        /* ëª¨ë°”ì¼ ë“œë¡­ë‹¤ìš´ */
        .mobile-dropdown {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 50;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-dropdown.show {
            transform: translateY(0);
        }
        
        @media (min-width: 768px) {
            .mobile-dropdown {
                position: absolute;
                top: 100%;
                left: 0;
                right: auto;
                bottom: auto;
                width: 320px;
                border-radius: 8px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
                transform: translateY(-10px);
                opacity: 0;
            }
            
            .mobile-dropdown.show {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .post-card {
            transition: all 0.3s ease;
        }
        
        .post-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .like-btn {
            transition: all 0.2s ease;
        }
        
        .like-btn.liked {
            color: #ef4444;
            transform: scale(1.1);
        }
        
        .bookmark-btn {
            transition: all 0.2s ease;
        }
        
        .bookmark-btn.bookmarked {
            color: #f59e0b;
            transform: scale(1.1);
        }
        
        .follow-btn {
            transition: all 0.2s ease;
        }
        
        .follow-btn.following {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .bookmark-filter {
            transition: all 0.2s ease;
        }
        
        .bookmark-filter.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .comment-like-btn {
            transition: all 0.2s ease;
        }
        
        .comment-like-btn.liked {
            color: #ef4444;
        }
        
        .filter-btn {
            transition: all 0.2s ease;
        }
        
        .filter-btn.active {
            background: #667eea;
            color: white;
        }
        
        .sport-filter {
            transition: all 0.2s ease;
        }
        
        .sport-filter.active {
            background: #667eea;
            color: white;
        }
        
        .floating-btn {
            position: fixed;
            bottom: calc(90px + env(safe-area-inset-bottom));
            right: 20px;
            z-index: 50;
            transition: all 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .floating-btn {
                bottom: 20px;
            }
        }
        
        .floating-btn:hover {
            transform: scale(1.1);
        }
        
        .navbar {
            position: sticky;
            top: 0;
            z-index: 40;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .post-image {
            border-radius: 12px;
            overflow: hidden;
        }
        
        .tag {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .input-focus:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .sport-tag {
            transition: all 0.2s ease;
        }
        
        .sport-tag:hover {
            transform: scale(1.05);
        }
        
        .sport-tag.selected {
            background: #667eea;
            color: white;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .board-select {
            transition: all 0.2s ease;
        }
        
        .board-select.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .comment-item {
            transition: all 0.2s ease;
        }
        
        .comment-item:hover {
            background: rgba(0,0,0,0.02);
        }
        
        .reply-item {
            background: rgba(102, 126, 234, 0.05);
            border-left: 3px solid #667eea;
        }
        
        .search-scope-btn, .search-sport-btn, .search-date-btn, .search-sort-btn {
            transition: all 0.2s ease;
        }
        
        .search-scope-btn.active, .search-sport-btn.active, .search-date-btn.active, .search-sort-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .search-result-item {
            transition: all 0.2s ease;
        }
        
        .search-result-item:hover {
            background: rgba(0,0,0,0.02);
        }
        
        .search-highlight {
            background: rgba(255, 235, 59, 0.3);
            padding: 1px 2px;
            border-radius: 2px;
        }
        
        .popular-search-tag {
            transition: all 0.2s ease;
        }
        
        .history-item {
            transition: all 0.2s ease;
        }
        
        .history-item:hover {
            background: rgba(0,0,0,0.02);
        }
        
        .notification-item {
            transition: all 0.2s ease;
        }
        
        .notification-item:hover {
            background: rgba(0,0,0,0.02);
        }
        
        .notification-item.unread {
            background: rgba(102, 126, 234, 0.05);
            border-left: 3px solid #667eea;
        }
        
        .notification-badge-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 60;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification-toast.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- ë¡œê·¸ì¸/íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="w-full max-w-md">
            <!-- ë¡œê³  ë° íƒ€ì´í‹€ -->
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-4 shadow-lg">
                    <span class="text-2xl font-bold text-indigo-600">S</span>
                </div>
                <h1 class="text-3xl font-bold text-white mb-2">SportsCommunity</h1>
                <p class="text-white/80">ìŠ¤í¬ì¸ ë¥¼ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒë“¤ì˜ ê³µê°„</p>
            </div>

            <!-- ë©”ì¸ ì¹´ë“œ -->
            <div class="glass-effect rounded-2xl p-8 shadow-2xl relative">
                <!-- ë‹«ê¸° ë²„íŠ¼ -->
                <button id="closeModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                <!-- íƒ­ ë²„íŠ¼ -->
                <div class="flex mb-6 bg-gray-100 rounded-lg p-1">
                    <button id="loginTab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 bg-white text-gray-900 shadow-sm">
                        ë¡œê·¸ì¸
                    </button>
                    <button id="signupTab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 hover:text-gray-900">
                        íšŒì›ê°€ì…
                    </button>
                </div>

                <!-- ë¡œê·¸ì¸ í¼ -->
                <div id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì „í™”ë²ˆí˜¸</label>
                        <input id="loginPhone" type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="010-0000-0000">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
                        <input id="loginPassword" type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-sm text-gray-600">ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</span>
                        </label>
                        <button class="text-sm text-indigo-600 hover:text-indigo-500">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</button>
                    </div>

                    <button id="loginBtn" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105">
                        ë¡œê·¸ì¸
                    </button>
                </div>

                <!-- íšŒì›ê°€ì… í¼ -->
                <div id="signupForm" class="space-y-4 hidden">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì „í™”ë²ˆí˜¸</label>
                        <input id="signupPhone" type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="010-0000-0000" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
                        <input id="signupPassword" type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input id="signupPasswordConfirm" type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">ê´€ì‹¬ ìŠ¤í¬ì¸  (ìµœëŒ€ 3ê°œ)</label>
                        <div class="grid grid-cols-3 gap-2">
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ì¶•êµ¬</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ë†êµ¬</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ì•¼êµ¬</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ë°°êµ¬</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">í…Œë‹ˆìŠ¤</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">íƒêµ¬</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ìˆ˜ì˜</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ëŸ¬ë‹</button>
                            <button class="sport-tag px-3 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:border-indigo-500" onclick="toggleSport(this)">ì‚¬ì´í´</button>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" required>
                            <span class="ml-2 text-sm text-gray-600">[í•„ìˆ˜] ì´ìš©ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" required>
                            <span class="ml-2 text-sm text-gray-600">[í•„ìˆ˜] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•©ë‹ˆë‹¤</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-sm text-gray-600">[ì„ íƒ] ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤</span>
                        </label>
                    </div>

                    <button id="signupBtn" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105">
                        íšŒì›ê°€ì…
                    </button>
                </div>
            </div>

            <!-- í•˜ë‹¨ ë§í¬ -->
            <div class="text-center mt-6">
                <p class="text-white/80 text-sm">
                    ë¬¸ì œê°€ ìˆìœ¼ì‹ ê°€ìš”? 
                    <a href="#" class="text-white underline hover:text-white/80">ê³ ê°ì„¼í„°</a>
                </p>
            </div>
        </div>
    </div>

    <!-- ê¸€ì“°ê¸° í˜ì´ì§€ -->
    <div id="writePage" class="page">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="navbar border-b border-gray-200">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="backToFeed" class="text-gray-600 hover:text-gray-800">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900">ìƒˆ ê²Œì‹œê¸€ ì‘ì„±</h1>
                    </div>
                    <button id="publishBtn" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">
                        ê²Œì‹œí•˜ê¸°
                    </button>
                </div>
            </div>
        </nav>

        <div class="max-w-4xl mx-auto px-4 py-6">
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                <!-- ê²Œì‹œíŒ ì„ íƒ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-3">ê²Œì‹œíŒ ì„ íƒ</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ììœ ê²Œì‹œíŒ">ììœ ê²Œì‹œíŒ</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ì§ˆë¬¸ê²Œì‹œíŒ">ì§ˆë¬¸ê²Œì‹œíŒ</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ë¶„ì„/ì „ë§">ë¶„ì„/ì „ë§</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ì¶•êµ¬">ì¶•êµ¬</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ë†êµ¬">ë†êµ¬</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="ì•¼êµ¬">ì•¼êµ¬</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="UFC">UFC</button>
                        <button class="board-select px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-indigo-500 transition-colors" data-board="eìŠ¤í¬ì¸ ">eìŠ¤í¬ì¸ </button>
                    </div>
                </div>

                <!-- ì œëª© ì…ë ¥ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì œëª©</label>
                    <input id="postTitle" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <!-- ë‚´ìš© ì…ë ¥ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ë‚´ìš©</label>
                    <textarea id="postContent" rows="10" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200 resize-none" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                </div>

                <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì´ë¯¸ì§€ ì²¨ë¶€</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-indigo-500 transition-colors cursor-pointer" id="imageUpload">
                        <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <p class="text-gray-600">í´ë¦­í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”</p>
                        <p class="text-sm text-gray-400 mt-1">JPG, PNG, GIF (ìµœëŒ€ 10MB)</p>
                    </div>
                    <div id="imagePreview" class="mt-4 hidden">
                        <img id="previewImg" class="w-full max-w-md mx-auto rounded-lg" alt="ë¯¸ë¦¬ë³´ê¸°">
                        <button id="removeImage" class="mt-2 text-sm text-red-600 hover:text-red-800">ì´ë¯¸ì§€ ì œê±°</button>
                    </div>
                </div>

                <!-- íƒœê·¸ ì…ë ¥ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">íƒœê·¸</label>
                    <input id="postTags" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="íƒœê·¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œë¡œ êµ¬ë¶„)">
                    <p class="text-sm text-gray-500 mt-1">ì˜ˆ: í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸, ë§¨ìœ , ê²½ê¸°ë¦¬ë·°</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ê²Œì‹œê¸€ ìƒì„¸ í˜ì´ì§€ -->
    <div id="postDetailPage" class="page">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="navbar border-b border-gray-200">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="backToFeedFromDetail" class="text-gray-600 hover:text-gray-800">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900">ê²Œì‹œê¸€</h1>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <div class="max-w-4xl mx-auto px-4 py-6">
            <!-- ê²Œì‹œê¸€ ë‚´ìš© -->
            <div id="postDetailContent" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                <!-- ê²Œì‹œê¸€ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <!-- ëŒ“ê¸€ ì„¹ì…˜ -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">ëŒ“ê¸€ <span id="commentCount">0</span>ê°œ</h3>
                
                <!-- ëŒ“ê¸€ ì‘ì„± -->
                <div class="mb-6 pb-6 border-b border-gray-200">
                    <textarea id="commentInput" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200 resize-none" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    <div class="flex justify-end mt-3">
                        <button id="submitComment" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">
                            ëŒ“ê¸€ ì‘ì„±
                        </button>
                    </div>
                </div>

                <!-- ëŒ“ê¸€ ëª©ë¡ -->
                <div id="commentsList" class="space-y-4">
                    <!-- ëŒ“ê¸€ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ë°°ë„ˆ í¸ì§‘ ëª¨ë‹¬ -->
    <div id="bannerEditorModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-gray-900">ë°°ë„ˆ í¸ì§‘</h2>
                <button id="closeBannerEditor" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <div class="space-y-6">
                <!-- ë°°ë„ˆ í™œì„±í™”/ë¹„í™œì„±í™” -->
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                    <div>
                        <h3 class="font-medium text-gray-900">ë°°ë„ˆ í‘œì‹œ</h3>
                        <p class="text-sm text-gray-500">ì‚¬ìš©ìì—ê²Œ ë°°ë„ˆë¥¼ í‘œì‹œí• ì§€ ì„¤ì •í•©ë‹ˆë‹¤</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="bannerEnabled" class="sr-only peer" checked>
                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                    </label>
                </div>

                <!-- ë°°ë„ˆ ìŠ¤íƒ€ì¼ ì„ íƒ -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ë°°ë„ˆ ìŠ¤íƒ€ì¼</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="banner-style-option border-2 border-indigo-500 rounded-lg p-3 cursor-pointer" data-style="gradient-purple">
                            <div class="bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 h-16 rounded-lg flex items-center justify-center text-white text-sm font-medium">
                                ê·¸ë¼ë°ì´ì…˜ í¼í”Œ
                            </div>
                        </div>
                        <div class="banner-style-option border-2 border-gray-300 rounded-lg p-3 cursor-pointer" data-style="gradient-blue">
                            <div class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 h-16 rounded-lg flex items-center justify-center text-white text-sm font-medium">
                                ê·¸ë¼ë°ì´ì…˜ ë¸”ë£¨
                            </div>
                        </div>
                        <div class="banner-style-option border-2 border-gray-300 rounded-lg p-3 cursor-pointer" data-style="gradient-green">
                            <div class="bg-gradient-to-r from-green-600 via-teal-600 to-blue-600 h-16 rounded-lg flex items-center justify-center text-white text-sm font-medium">
                                ê·¸ë¼ë°ì´ì…˜ ê·¸ë¦°
                            </div>
                        </div>
                        <div class="banner-style-option border-2 border-gray-300 rounded-lg p-3 cursor-pointer" data-style="gradient-orange">
                            <div class="bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 h-16 rounded-lg flex items-center justify-center text-white text-sm font-medium">
                                ê·¸ë¼ë°ì´ì…˜ ì˜¤ë Œì§€
                            </div>
                        </div>
                        <div class="banner-style-option border-2 border-gray-300 rounded-lg p-3 cursor-pointer" data-style="solid-dark">
                            <div class="bg-gray-900 h-16 rounded-lg flex items-center justify-center text-white text-sm font-medium">
                                ë‹¤í¬ í…Œë§ˆ
                            </div>
                        </div>
                        <div class="banner-style-option border-2 border-gray-300 rounded-lg p-3 cursor-pointer" data-style="image-upload">
                            <div class="bg-gray-100 border-2 border-dashed border-gray-300 h-16 rounded-lg flex items-center justify-center text-gray-500 text-sm font-medium">
                                + ì´ë¯¸ì§€ ì—…ë¡œë“œ
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ë°°ë„ˆ ë‚´ìš© í¸ì§‘ -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ë°°ë„ˆ ë‚´ìš©</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ì œëª©</label>
                            <input id="bannerTitleInput" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ë°°ë„ˆ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" value="ğŸ† ìŠ¤í¬ì¸  ì»¤ë®¤ë‹ˆí‹° ëŸ°ì¹­ ê¸°ë… ì´ë²¤íŠ¸!">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ì„¤ëª…</label>
                            <textarea id="bannerDescriptionInput" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200 resize-none" placeholder="ë°°ë„ˆ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">ì²« ê²Œì‹œê¸€ ì‘ì„±í•˜ê³  ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜ ë°›ì•„ê°€ì„¸ìš”! ì„ ì°©ìˆœ 100ëª… í•œì •</textarea>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">ê¸°ê°„</label>
                                <input id="bannerPeriodInput" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ì˜ˆ: ~12/31ê¹Œì§€" value="~12/31ê¹Œì§€">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">í˜œíƒ</label>
                                <input id="bannerRewardInput" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ì˜ˆ: ìŠ¤íƒ€ë²…ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸" value="ìŠ¤íƒ€ë²…ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ì•„ì´ì½˜ (ì´ëª¨ì§€)</label>
                            <div class="flex items-center space-x-2">
                                <input id="bannerIconInput" type="text" class="flex-1 px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ğŸ" value="ğŸ" maxlength="2">
                                <div class="flex space-x-1">
                                    <button class="icon-btn px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" onclick="setIcon('ğŸ')">ğŸ</button>
                                    <button class="icon-btn px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" onclick="setIcon('ğŸ†')">ğŸ†</button>
                                    <button class="icon-btn px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" onclick="setIcon('ğŸ‰')">ğŸ‰</button>
                                    <button class="icon-btn px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" onclick="setIcon('âš½')">âš½</button>
                                    <button class="icon-btn px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" onclick="setIcon('ğŸ€')">ğŸ€</button>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ë§í¬ URL (ì„ íƒì‚¬í•­)</label>
                            <input id="bannerLinkInput" type="url" class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="https://example.com">
                        </div>
                    </div>
                </div>

                <!-- ë°°ë„ˆ ë¯¸ë¦¬ë³´ê¸° -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ë¯¸ë¦¬ë³´ê¸°</h3>
                    <div id="bannerPreview" class="relative overflow-hidden rounded-xl shadow-lg">
                        <!-- ë¯¸ë¦¬ë³´ê¸° ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ (ìˆ¨ê¹€) -->
                <div id="imageUploadSection" class="hidden">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ë°°ê²½ ì´ë¯¸ì§€</h3>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-indigo-500 transition-colors cursor-pointer" id="bannerImageUpload">
                        <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <p class="text-gray-600">í´ë¦­í•˜ì—¬ ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”</p>
                        <p class="text-sm text-gray-400 mt-1">JPG, PNG (ìµœëŒ€ 5MB, ê¶Œì¥ í¬ê¸°: 800x200px)</p>
                    </div>
                    <div id="bannerImagePreview" class="mt-4 hidden">
                        <img id="bannerPreviewImg" class="w-full max-w-md mx-auto rounded-lg" alt="ë°°ë„ˆ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°">
                        <button id="removeBannerImage" class="mt-2 text-sm text-red-600 hover:text-red-800">ì´ë¯¸ì§€ ì œê±°</button>
                    </div>
                </div>
            </div>

            <div class="flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200">
                <button id="cancelBannerEdit" class="px-4 py-2 text-gray-600 hover:text-gray-800">ì·¨ì†Œ</button>
                <button id="previewBannerChanges" class="px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-all duration-200">ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸</button>
                <button id="saveBannerChanges" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">ì €ì¥</button>
            </div>
        </div>
    </div>

    <!-- ë°°ë„ˆ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="bannerDetailModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-gray-900">ì´ë²¤íŠ¸ ìƒì„¸</h2>
                <button id="closeBannerDetail" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <div id="bannerDetailContent" class="space-y-4">
                <!-- ë°°ë„ˆ ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <div class="flex justify-end space-x-3 mt-6">
                <button id="closeBannerDetailBtn" class="px-4 py-2 text-gray-600 hover:text-gray-800">ë‹«ê¸°</button>
                <button id="participateEvent" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">ì°¸ì—¬í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- ì•Œë¦¼ ì„¤ì • ëª¨ë‹¬ -->
    <div id="notificationSettingsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-gray-900">ì•Œë¦¼ ì„¤ì •</h2>
                <button id="closeNotificationSettings" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <div class="space-y-6">
                <!-- ê¸°ë³¸ ì•Œë¦¼ ì„¤ì • -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ê¸°ë³¸ ì•Œë¦¼</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ëŒ“ê¸€ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ë‚´ ê²Œì‹œê¸€ì— ëŒ“ê¸€ì´ ë‹¬ë¦´ ë•Œ</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="commentNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ì¢‹ì•„ìš” ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ë‚´ ê²Œì‹œê¸€ì— ì¢‹ì•„ìš”ë¥¼ ë°›ì„ ë•Œ</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="likeNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ë©˜ì…˜ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë‚˜ë¥¼ ì–¸ê¸‰í•  ë•Œ</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="mentionNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- íŒ”ë¡œìš° ì•Œë¦¼ -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">íŒ”ë¡œìš° ì•Œë¦¼</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ìƒˆ ê²Œì‹œê¸€ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">íŒ”ë¡œìš°í•œ ìœ ì €ê°€ ìƒˆ ê¸€ì„ ì˜¬ë¦´ ë•Œ</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="followPostNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ìƒˆ íŒ”ë¡œì›Œ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ëˆ„êµ°ê°€ ë‚˜ë¥¼ íŒ”ë¡œìš°í•  ë•Œ</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="newFollowerNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- ê´€ì‹¬ ì¢…ëª© ì•Œë¦¼ -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ê´€ì‹¬ ì¢…ëª© ì•Œë¦¼</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">í•«ì´ìŠˆ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ê´€ì‹¬ ì¢…ëª©ì˜ ì¸ê¸° ê²Œì‹œê¸€ ì•Œë¦¼</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="hotIssueNotification" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ê²½ê¸° ê²°ê³¼ ì•Œë¦¼</p>
                                <p class="text-sm text-gray-500">ê´€ì‹¬ ì¢…ëª©ì˜ ì¤‘ìš” ê²½ê¸° ê²°ê³¼</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="matchResultNotification" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- ì•Œë¦¼ ì‹œê°„ ì„¤ì • -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ì•Œë¦¼ ì‹œê°„</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-medium text-gray-900">ë°©í•´ ê¸ˆì§€ ëª¨ë“œ</p>
                                <p class="text-sm text-gray-500">22:00 - 08:00 ì•Œë¦¼ ë„ê¸°</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="doNotDisturbMode" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-end space-x-3 mt-8">
                <button id="cancelNotificationSettings" class="px-4 py-2 text-gray-600 hover:text-gray-800">ì·¨ì†Œ</button>
                <button id="saveNotificationSettings" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">ì €ì¥</button>
            </div>
        </div>
    </div>

    <!-- ë¶ë§ˆí¬ í˜ì´ì§€ -->
    <div id="bookmarkPage" class="page">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="navbar border-b border-gray-200">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="backToFeedFromBookmark" class="text-gray-600 hover:text-gray-800">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900">ë‚´ ë³´ê´€í•¨</h1>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span id="bookmarkCount" class="text-sm text-gray-600">0ê°œ ì €ì¥ë¨</span>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-4xl mx-auto px-4 py-6">
            <!-- ë¶ë§ˆí¬ í•„í„° -->
            <div class="mb-6">
                <div class="flex items-center space-x-2 overflow-x-auto pb-2">
                    <span class="text-sm font-medium text-gray-700 whitespace-nowrap">í•„í„°:</span>
                    <button class="bookmark-filter active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('all')">ì „ì²´</button>
                    <button class="bookmark-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('ì¶•êµ¬')">ì¶•êµ¬</button>
                    <button class="bookmark-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('ë†êµ¬')">ë†êµ¬</button>
                    <button class="bookmark-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('ì•¼êµ¬')">ì•¼êµ¬</button>
                    <button class="bookmark-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('ë°°êµ¬')">ë°°êµ¬</button>
                    <button class="bookmark-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap" onclick="setBookmarkFilter('í…Œë‹ˆìŠ¤')">í…Œë‹ˆìŠ¤</button>
                </div>
            </div>

            <!-- ë¶ë§ˆí¬ëœ ê²Œì‹œê¸€ ëª©ë¡ -->
            <div id="bookmarkContainer" class="space-y-6">
                <!-- ë¶ë§ˆí¬ëœ ê²Œì‹œê¸€ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <!-- ë¹ˆ ìƒíƒœ -->
            <div id="emptyBookmarks" class="text-center py-16 hidden">
                <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                </svg>
                <h3 class="text-lg font-medium text-gray-900 mb-2">ì €ì¥ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                <p class="text-gray-500">ë§ˆìŒì— ë“œëŠ” ê²Œì‹œê¸€ì„ ë¶ë§ˆí¬í•´ë³´ì„¸ìš”!</p>
            </div>
        </div>
    </div>

    <!-- ìœ ì € í”„ë¡œí•„ í˜ì´ì§€ -->
    <div id="profilePage" class="page">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="navbar border-b border-gray-200">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="backToFeedFromProfile" class="text-gray-600 hover:text-gray-800">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900">í”„ë¡œí•„</h1>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-4xl mx-auto px-4 py-6">
            <div id="profileContent">
                <!-- í”„ë¡œí•„ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- ê²€ìƒ‰ í˜ì´ì§€ -->
    <div id="searchPage" class="page">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="navbar border-b border-gray-200">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="backToFeedFromSearch" class="text-gray-600 hover:text-gray-800">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900">ê²€ìƒ‰</h1>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-4xl mx-auto px-4 py-6">
            <!-- ê²€ìƒ‰ ì…ë ¥ -->
            <div class="mb-6">
                <div class="relative">
                    <input id="searchInput" type="text" class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200" placeholder="ê²Œì‹œê¸€, ëŒ“ê¸€, ìœ ì €, íƒœê·¸ ê²€ìƒ‰...">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <button id="clearSearch" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 hidden">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- ê²€ìƒ‰ í•„í„° -->
            <div class="mb-6 space-y-4">
                <!-- ê²€ìƒ‰ ë²”ìœ„ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ê²€ìƒ‰ ë²”ìœ„</label>
                    <div class="flex flex-wrap gap-2">
                        <button class="search-scope-btn active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-scope="all">ì „ì²´</button>
                        <button class="search-scope-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-scope="posts">ê²Œì‹œê¸€</button>
                        <button class="search-scope-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-scope="comments">ëŒ“ê¸€</button>
                        <button class="search-scope-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-scope="users">ìœ ì €</button>
                        <button class="search-scope-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-scope="tags">íƒœê·¸</button>
                    </div>
                </div>

                <!-- ì¢…ëª© í•„í„° -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì¢…ëª©</label>
                    <div class="flex flex-wrap gap-2">
                        <button class="search-sport-btn active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="all">ì „ì²´</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="ì¶•êµ¬">ì¶•êµ¬</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="ë†êµ¬">ë†êµ¬</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="ì•¼êµ¬">ì•¼êµ¬</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="ë°°êµ¬">ë°°êµ¬</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="í…Œë‹ˆìŠ¤">í…Œë‹ˆìŠ¤</button>
                        <button class="search-sport-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sport="ëŸ¬ë‹">ëŸ¬ë‹</button>
                    </div>
                </div>

                <!-- ë‚ ì§œ í•„í„° -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ê¸°ê°„</label>
                    <div class="flex flex-wrap gap-2">
                        <button class="search-date-btn active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-date="all">ì „ì²´</button>
                        <button class="search-date-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-date="today">ì˜¤ëŠ˜</button>
                        <button class="search-date-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-date="week">1ì£¼ì¼</button>
                        <button class="search-date-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-date="month">1ê°œì›”</button>
                        <button class="search-date-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-date="year">1ë…„</button>
                    </div>
                </div>

                <!-- ì •ë ¬ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì •ë ¬</label>
                    <div class="flex flex-wrap gap-2">
                        <button class="search-sort-btn active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sort="relevance">ê´€ë ¨ë„ìˆœ</button>
                        <button class="search-sort-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sort="latest">ìµœì‹ ìˆœ</button>
                        <button class="search-sort-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sort="popular">ì¸ê¸°ìˆœ</button>
                        <button class="search-sort-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500" data-sort="oldest">ì˜¤ë˜ëœìˆœ</button>
                    </div>
                </div>
            </div>

            <!-- ì¸ê¸° ê²€ìƒ‰ì–´ -->
            <div id="popularSearches" class="mb-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">ì¸ê¸° ê²€ìƒ‰ì–´</h3>
                <div class="flex flex-wrap gap-2">
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸')">#í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸</button>
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('NBA')">#NBA</button>
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('KBO')">#KBO</button>
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('ì†í¥ë¯¼')">#ì†í¥ë¯¼</button>
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('ì›”ë“œì»µ')">#ì›”ë“œì»µ</button>
                    <button class="popular-search-tag px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-indigo-100 hover:text-indigo-700 transition-colors" onclick="searchKeyword('ì˜¬ë¦¼í”½')">#ì˜¬ë¦¼í”½</button>
                </div>
            </div>

            <!-- ê²€ìƒ‰ ê²°ê³¼ -->
            <div id="searchResults" class="hidden">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">ê²€ìƒ‰ ê²°ê³¼</h3>
                    <span id="searchResultCount" class="text-sm text-gray-600"></span>
                </div>
                <div id="searchResultsContainer" class="space-y-4">
                    <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ê²€ìƒ‰ ê¸°ë¡ -->
            <div id="searchHistory" class="mb-6">
                <div class="flex items-center justify-between mb-3">
                    <h3 class="text-lg font-semibold text-gray-900">ìµœê·¼ ê²€ìƒ‰ì–´</h3>
                    <button id="clearHistory" class="text-sm text-gray-500 hover:text-gray-700">ì „ì²´ ì‚­ì œ</button>
                </div>
                <div id="searchHistoryContainer" class="space-y-2">
                    <!-- ê²€ìƒ‰ ê¸°ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ í”¼ë“œ í˜ì´ì§€ -->
    <div id="feedPage" class="page active">
        <!-- ë°ìŠ¤í¬í†± ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="desktop-nav navbar border-b border-gray-200 safe-area-top">
            <div class="max-w-4xl mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-bold">S</span>
                        </div>
                        <h1 class="text-xl font-bold text-gray-900">SportsCommunity</h1>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
                        <button id="searchBtn" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 touch-target">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                        <!-- ë¶ë§ˆí¬ ë²„íŠ¼ -->
                        <button id="bookmarkBtn" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 touch-target">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                            </svg>
                        </button>
                        <!-- ì•Œë¦¼ ë²„íŠ¼ -->
                        <div class="relative">
                            <button id="notificationBtn" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 relative touch-target">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                                </svg>
                                <span id="notificationBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                            </button>
                            <!-- ì•Œë¦¼ ë“œë¡­ë‹¤ìš´ -->
                            <div id="notificationDropdown" class="mobile-dropdown w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 hidden">
                                <div class="p-4 border-b border-gray-200">
                                    <div class="flex items-center justify-between">
                                        <h3 class="text-lg font-semibold text-gray-900">ì•Œë¦¼</h3>
                                        <div class="flex items-center space-x-2">
                                            <button id="markAllRead" class="text-sm text-indigo-600 hover:text-indigo-800">ëª¨ë‘ ì½ìŒ</button>
                                            <button id="notificationSettings" class="text-gray-400 hover:text-gray-600 touch-target">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div id="notificationList" class="max-h-96 overflow-y-auto mobile-scroll">
                                    <!-- ì•Œë¦¼ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                                <div class="p-3 border-t border-gray-200 text-center">
                                    <button id="viewAllNotifications" class="text-sm text-indigo-600 hover:text-indigo-800">ëª¨ë“  ì•Œë¦¼ ë³´ê¸°</button>
                                </div>
                            </div>
                        </div>
                        <span id="userGreeting" class="text-sm text-gray-600 hidden"></span>
                        <button id="loginNavBtn" class="px-4 py-2 text-sm bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 btn-mobile">ë¡œê·¸ì¸</button>
                        <button id="signupNavBtn" class="px-4 py-2 text-sm border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-all duration-200 btn-mobile">íšŒì›ê°€ì…</button>
                        <button id="logoutBtn" class="text-sm text-gray-600 hover:text-gray-800 hidden">ë¡œê·¸ì•„ì›ƒ</button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="mobile-nav navbar border-b border-gray-200 safe-area-top">
            <div class="px-4 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <button id="mobileMenuBtn" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 touch-target">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                        <div class="w-8 h-8 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-bold">S</span>
                        </div>
                        <h1 class="text-lg font-bold text-gray-900">SportsCommunity</h1>
                    </div>
                    <div class="flex items-center space-x-2">
                        <!-- ëª¨ë°”ì¼ ì•Œë¦¼ ë²„íŠ¼ -->
                        <div class="relative">
                            <button id="mobileNotificationBtn" class="p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 relative touch-target">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                                </svg>
                                <span id="mobileNotificationBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                            </button>
                        </div>
                        <!-- ëª¨ë°”ì¼ ë¡œê·¸ì¸ ë²„íŠ¼ -->
                        <button id="mobileLoginBtn" class="px-3 py-1.5 text-xs bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200">ë¡œê·¸ì¸</button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ëª¨ë°”ì¼ ì‚¬ì´ë“œ ë©”ë‰´ -->
        <div id="mobileSideMenu" class="mobile-nav-slide fixed top-0 left-0 w-80 h-full bg-white shadow-lg z-50 safe-area-top">
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold">S</span>
                        </div>
                        <div>
                            <h2 class="font-bold text-gray-900">SportsCommunity</h2>
                            <p id="mobileUserGreeting" class="text-sm text-gray-600">ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
                        </div>
                    </div>
                    <button id="closeMobileMenu" class="p-2 text-gray-400 hover:text-gray-600 touch-target">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-4">
                <nav class="space-y-2">
                    <button id="mobileHomeBtn" class="w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors touch-target">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                        <span>í™ˆ</span>
                    </button>
                    <button id="mobileSearchBtn" class="w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors touch-target">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <span>ê²€ìƒ‰</span>
                    </button>
                    <button id="mobileBookmarkBtn" class="w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors touch-target">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                        </svg>
                        <span>ë¶ë§ˆí¬</span>
                    </button>
                    <button id="mobileWriteBtn" class="w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors touch-target">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                        </svg>
                        <span>ê¸€ì“°ê¸°</span>
                    </button>
                </nav>
                
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <div id="mobileAuthSection" class="space-y-3">
                        <button id="mobileLoginFullBtn" class="w-full px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 btn-mobile">ë¡œê·¸ì¸</button>
                        <button id="mobileSignupBtn" class="w-full px-4 py-3 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-all duration-200 btn-mobile">íšŒì›ê°€ì…</button>
                    </div>
                    <div id="mobileUserSection" class="hidden">
                        <button id="mobileLogoutBtn" class="w-full px-4 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors btn-mobile">ë¡œê·¸ì•„ì›ƒ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ëª¨ë°”ì¼ ë©”ë‰´ ì˜¤ë²„ë ˆì´ -->
        <div id="mobileMenuOverlay" class="mobile-nav-overlay"></div>

        <!-- ëª¨ë°”ì¼ ê²€ìƒ‰ë°” (ëª¨ë°”ì¼ì—ì„œë§Œ í‘œì‹œ) -->
        <div class="mobile-search-bar mobile-nav">
            <div class="relative">
                <input id="mobileQuickSearch" type="text" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg input-mobile" placeholder="ë¹ ë¥¸ ê²€ìƒ‰...">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <div class="container mobile-content-padding">
            <!-- ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜ ë°°ë„ˆ -->
            <div id="eventBanner" class="mb-6 relative overflow-hidden rounded-xl shadow-lg cursor-pointer mobile-card" onclick="showBannerDetail()">
                <div id="bannerContent" class="relative">
                    <!-- ê¸°ë³¸ ë°°ë„ˆ ë‚´ìš© -->
                    <div class="bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-6 text-white">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs font-medium">ğŸ‰ íŠ¹ë³„ ì´ë²¤íŠ¸</span>
                                    <span class="bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold">HOT</span>
                                </div>
                                <h2 id="bannerTitle" class="text-xl font-bold mb-2">ğŸ† ìŠ¤í¬ì¸  ì»¤ë®¤ë‹ˆí‹° ëŸ°ì¹­ ê¸°ë… ì´ë²¤íŠ¸!</h2>
                                <p id="bannerDescription" class="text-sm opacity-90 mb-3">ì²« ê²Œì‹œê¸€ ì‘ì„±í•˜ê³  ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜ ë°›ì•„ê°€ì„¸ìš”! ì„ ì°©ìˆœ 100ëª… í•œì •</p>
                                <div class="flex items-center space-x-4 text-sm">
                                    <span>ğŸ“… ~12/31ê¹Œì§€</span>
                                    <span>ğŸ ìŠ¤íƒ€ë²…ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸</span>
                                </div>
                            </div>
                            <div class="ml-4">
                                <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                    <span class="text-2xl">ğŸ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ê´€ë¦¬ì í¸ì§‘ ë²„íŠ¼ (ê´€ë¦¬ìë§Œ ë³´ì„) -->
                <button id="editBannerBtn" class="absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all duration-200 hidden" onclick="event.stopPropagation(); showBannerEditor()">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                    </svg>
                </button>
                
                <!-- ë‹«ê¸° ë²„íŠ¼ -->
                <button id="closeBannerBtn" class="absolute top-2 right-12 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all duration-200" onclick="event.stopPropagation(); closeBanner()">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <!-- í•„í„° ì„¹ì…˜ -->
            <div class="mb-6">
                <!-- ì •ë ¬ í•„í„° -->
                <div class="flex items-center space-x-2 mb-4 overflow-x-auto pb-2">
                    <span class="text-sm font-medium text-gray-700 whitespace-nowrap">ì •ë ¬:</span>
                    <button class="filter-btn active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSort('latest')">ìµœì‹ ìˆœ</button>
                    <button class="filter-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSort('popular')">ì¸ê¸°ìˆœ</button>
                    <button class="filter-btn px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSort('following')">íŒ”ë¡œì‰</button>
                </div>
                
                <!-- ì¢…ëª© í•„í„° -->
                <div class="flex items-center space-x-2 overflow-x-auto pb-2 swipe-area">
                    <span class="text-sm font-medium text-gray-700 whitespace-nowrap">ì¢…ëª©:</span>
                    <button class="sport-filter active px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('all')">ì „ì²´</button>
                    <button class="sport-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('ì¶•êµ¬')">ì¶•êµ¬</button>
                    <button class="sport-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('ë†êµ¬')">ë†êµ¬</button>
                    <button class="sport-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('ì•¼êµ¬')">ì•¼êµ¬</button>
                    <button class="sport-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('ë°°êµ¬')">ë°°êµ¬</button>
                    <button class="sport-filter px-3 py-1 text-sm rounded-full border border-gray-300 hover:border-indigo-500 whitespace-nowrap mobile-tap-highlight" onclick="setSportFilter('í…Œë‹ˆìŠ¤')">í…Œë‹ˆìŠ¤</button>
                </div>
            </div>

            <!-- ê²Œì‹œê¸€ í”¼ë“œ -->
            <div id="feedContainer" class="space-y-6 mobile-scroll">
                <!-- ê²Œì‹œê¸€ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <!-- ë” ë³´ê¸° ë²„íŠ¼ -->
            <div class="text-center mt-8 mb-8">
                <button id="loadMoreBtn" class="px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 btn-mobile touch-target">
                    ë” ë§ì€ ê²Œì‹œê¸€ ë³´ê¸°
                </button>
            </div>
        </div>

        <!-- ê¸€ì“°ê¸° í”Œë¡œíŒ… ë²„íŠ¼ -->
        <button id="floatingWriteBtn" class="floating-btn w-14 h-14 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl no-select mobile-tap-highlight">
            <svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
        </button>

        <!-- ëª¨ë°”ì¼ í•˜ë‹¨ íƒ­ë°” -->
        <nav class="mobile-bottom-nav safe-area-bottom">
            <button id="bottomNavHome" class="mobile-bottom-nav-item active mobile-tap-highlight">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
                <span>í™ˆ</span>
            </button>
            <button id="bottomNavSearch" class="mobile-bottom-nav-item mobile-tap-highlight">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <span>ê²€ìƒ‰</span>
            </button>
            <button id="bottomNavWrite" class="mobile-bottom-nav-item mobile-tap-highlight">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
                <span>ê¸€ì“°ê¸°</span>
            </button>
            <button id="bottomNavBookmark" class="mobile-bottom-nav-item mobile-tap-highlight">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                </svg>
                <span>ë¶ë§ˆí¬</span>
            </button>
            <button id="bottomNavProfile" class="mobile-bottom-nav-item mobile-tap-highlight">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                <span>í”„ë¡œí•„</span>
            </button>
        </nav>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentUser = null;
        let selectedSports = [];
        let currentPosts = [];
        let currentSort = 'latest';
        let currentSportFilter = 'all';
        let searchHistory = [];
        let currentSearchFilters = {
            scope: 'all',
            sport: 'all',
            date: 'all',
            sort: 'relevance'
        };
        let notifications = [];
        let notificationSettings = {
            comment: true,
            like: true,
            mention: true,
            followPost: true,
            newFollower: true,
            hotIssue: true,
            matchResult: false,
            doNotDisturb: false
        };
        let followingUsers = [];
        let followers = [];
        let bookmarkedPosts = [];
        let userProfiles = {};
        
        // ë°°ë„ˆ ê´€ë ¨ ë³€ìˆ˜
        let bannerSettings = {
            enabled: true,
            style: 'gradient-purple',
            title: 'ğŸ† ìŠ¤í¬ì¸  ì»¤ë®¤ë‹ˆí‹° ëŸ°ì¹­ ê¸°ë… ì´ë²¤íŠ¸!',
            description: 'ì²« ê²Œì‹œê¸€ ì‘ì„±í•˜ê³  ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜ ë°›ì•„ê°€ì„¸ìš”! ì„ ì°©ìˆœ 100ëª… í•œì •',
            period: '~12/31ê¹Œì§€',
            reward: 'ìŠ¤íƒ€ë²…ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸',
            icon: 'ğŸ',
            link: '',
            backgroundImage: null,
            dismissed: false
        };
        let isAdmin = false; // ê´€ë¦¬ì ê¶Œí•œ (ë°ëª¨ìš©)

        // ìƒ˜í”Œ ì•Œë¦¼ ë°ì´í„°
        const sampleNotifications = [
            {
                id: 1,
                type: 'like',
                title: 'ì¢‹ì•„ìš” ì•Œë¦¼',
                message: 'ì¶•êµ¬ë§¤ë‹ˆì•„ë‹˜ì´ íšŒì›ë‹˜ì˜ ê²Œì‹œê¸€ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.',
                time: '2ë¶„ ì „',
                read: false,
                postId: 1,
                userId: 'user1'
            },
            {
                id: 2,
                type: 'comment',
                title: 'ëŒ“ê¸€ ì•Œë¦¼',
                message: 'ë†êµ¬ì™•ë‹˜ì´ íšŒì›ë‹˜ì˜ ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤: "ì •ë§ ì¢‹ì€ ì •ë³´ë„¤ìš”!"',
                time: '5ë¶„ ì „',
                read: false,
                postId: 2,
                userId: 'user2'
            },
            {
                id: 3,
                type: 'follow_post',
                title: 'ìƒˆ ê²Œì‹œê¸€',
                message: 'ì•¼êµ¬ë•í›„ë‹˜ì´ ìƒˆ ê²Œì‹œê¸€ì„ ì˜¬ë ¸ìŠµë‹ˆë‹¤: "ì˜¤ëŠ˜ ì§ê´€ í›„ê¸°"',
                time: '10ë¶„ ì „',
                read: false,
                postId: 3,
                userId: 'user3'
            },
            {
                id: 4,
                type: 'hot_issue',
                title: 'ì¶•êµ¬ í•«ì´ìŠˆ',
                message: 'í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸ ê´€ë ¨ ê²Œì‹œê¸€ì´ ì¸ê¸°ë¥¼ ëŒê³  ìˆìŠµë‹ˆë‹¤!',
                time: '30ë¶„ ì „',
                read: true,
                postId: 1,
                sport: 'ì¶•êµ¬'
            },
            {
                id: 5,
                type: 'mention',
                title: 'ë©˜ì…˜ ì•Œë¦¼',
                message: 'í…Œë‹ˆìŠ¤í”„ë¡œë‹˜ì´ íšŒì›ë‹˜ì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤.',
                time: '1ì‹œê°„ ì „',
                read: true,
                postId: 5,
                userId: 'user5'
            },
            {
                id: 6,
                type: 'new_follower',
                title: 'ìƒˆ íŒ”ë¡œì›Œ',
                message: 'ëŸ°ë‹ë©”ì´íŠ¸ë‹˜ì´ íšŒì›ë‹˜ì„ íŒ”ë¡œìš°í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.',
                time: '2ì‹œê°„ ì „',
                read: true,
                userId: 'user6'
            }
        ];

        // ìƒ˜í”Œ ìœ ì € í”„ë¡œí•„ ë°ì´í„°
        const sampleUserProfiles = {
            "ì¶•êµ¬ë§¤ë‹ˆì•„": {
                nickname: "ì¶•êµ¬ë§¤ë‹ˆì•„",
                bio: "í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸ ì „ë¬¸ê°€ | ë§¨ìœ  íŒ¬ | ì¶•êµ¬ ë¶„ì„ ì¢‹ì•„í•´ìš”",
                followers: 1250,
                following: 340,
                posts: 89,
                interests: ["ì¶•êµ¬", "í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸", "ë§¨ìœ "],
                joinDate: "2023ë…„ 3ì›”"
            },
            "ë†êµ¬ì™•": {
                nickname: "ë†êµ¬ì™•",
                bio: "NBA ë§¤ë‹ˆì•„ | ë ˆì´ì»¤ìŠ¤ íŒ¬ | ë†êµ¬ ìš©í’ˆ ë¦¬ë·°ì–´",
                followers: 890,
                following: 210,
                posts: 156,
                interests: ["ë†êµ¬", "NBA", "ìš©í’ˆë¦¬ë·°"],
                joinDate: "2023ë…„ 1ì›”"
            },
            "ì•¼êµ¬ë•í›„": {
                nickname: "ì•¼êµ¬ë•í›„",
                bio: "KBO ì§ê´€ëŸ¬ | ë‘ì‚° ë² ì–´ìŠ¤ íŒ¬ | ì•¼êµ¬ì¥ ë§›ì§‘ íƒë°©",
                followers: 567,
                following: 123,
                posts: 234,
                interests: ["ì•¼êµ¬", "KBO", "ì§ê´€"],
                joinDate: "2022ë…„ 8ì›”"
            },
            "ë°°êµ¬ëŸ¬ë²„": {
                nickname: "ë°°êµ¬ëŸ¬ë²„",
                bio: "ë°°êµ¬ ë™í˜¸íšŒ ìš´ì˜ | ì´ˆë³´ì í™˜ì˜ | ë§¤ì£¼ í† ìš”ì¼ í™œë™",
                followers: 234,
                following: 89,
                posts: 67,
                interests: ["ë°°êµ¬", "ë™í˜¸íšŒ", "ì´ˆë³´í™˜ì˜"],
                joinDate: "2023ë…„ 5ì›”"
            },
            "í…Œë‹ˆìŠ¤í”„ë¡œ": {
                nickname: "í…Œë‹ˆìŠ¤í”„ë¡œ",
                bio: "í…Œë‹ˆìŠ¤ ì½”ì¹˜ | ë ˆìŠ¨ ë¬¸ì˜ í™˜ì˜ | ë°±í•¸ë“œ ì „ë¬¸ê°€",
                followers: 1890,
                following: 456,
                posts: 203,
                interests: ["í…Œë‹ˆìŠ¤", "ë ˆìŠ¨", "ì½”ì¹­"],
                joinDate: "2022ë…„ 12ì›”"
            },
            "ëŸ°ë‹ë©”ì´íŠ¸": {
                nickname: "ëŸ°ë‹ë©”ì´íŠ¸",
                bio: "ë§ˆë¼í†¤ ì™„ì£¼ 10íšŒ | í•œê°• ëŸ¬ë‹ í¬ë£¨ | ê±´ê°•í•œ ë¼ì´í”„ìŠ¤íƒ€ì¼",
                followers: 678,
                following: 234,
                posts: 134,
                interests: ["ëŸ¬ë‹", "ë§ˆë¼í†¤", "í•œê°•"],
                joinDate: "2023ë…„ 2ì›”"
            }
        };

        // ìƒ˜í”Œ ë°ì´í„°
        const samplePosts = [
            {
                id: 1,
                author: "ì¶•êµ¬ë§¤ë‹ˆì•„",
                time: "2ë¶„ ì „",
                sport: "ì¶•êµ¬",
                content: "ì˜¤ëŠ˜ ê²½ê¸° ì •ë§ ëŒ€ë°•ì´ì—ˆë„¤ìš”! ë§ˆì§€ë§‰ ê³¨ ì¥ë©´ì€ ì†Œë¦„ë‹ì•˜ì–´ìš”!",
                image: null,
                tags: ["í”„ë¦¬ë¯¸ì–´ë¦¬ê·¸", "ë§¨ìœ ", "ê²½ê¸°ë¦¬ë·°"],
                likes: 24,
                comments: 8,
                liked: false,
                bookmarked: false
            },
            {
                id: 2,
                author: "ë†êµ¬ì™•",
                time: "15ë¶„ ì „",
                sport: "ë†êµ¬",
                content: "ìƒˆë¡œìš´ ë†êµ¬í™” ìƒ€ëŠ”ë° ì •ë§ ì¢‹ë„¤ìš”! ì í”„ë ¥ì´ í™•ì‹¤íˆ ë‹¬ë¼ì§„ ê²ƒ ê°™ì•„ìš”. ì¶”ì²œí•©ë‹ˆë‹¤!",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='200' viewBox='0 0 400 200'%3E%3Crect width='400' height='200' fill='%23f3f4f6'/%3E%3Ctext x='200' y='100' text-anchor='middle' dy='.3em' font-family='Arial' font-size='16' fill='%236b7280'%3Eë†êµ¬í™” ì´ë¯¸ì§€%3C/text%3E%3C/svg%3E",
                tags: ["ë†êµ¬í™”", "ë¦¬ë·°", "ì¶”ì²œ"],
                likes: 156,
                comments: 23,
                liked: true,
                bookmarked: false
            },
            {
                id: 3,
                author: "ì•¼êµ¬ë•í›„",
                time: "1ì‹œê°„ ì „",
                sport: "ì•¼êµ¬",
                content: "ì˜¤ëŠ˜ ì§ê´€ ë‹¤ë…€ì™”ëŠ”ë° ë¶„ìœ„ê¸°ê°€ ì •ë§ ìµœê³ ì˜€ì–´ìš”! 9íšŒë§ ì—­ì „ìŠ¹... ì•„ì§ë„ ì‹¬ì¥ì´ ë‘ê·¼ê±°ë ¤ìš”!",
                image: null,
                tags: ["ì§ê´€", "KBO", "ì—­ì „ìŠ¹"],
                likes: 89,
                comments: 15,
                liked: false,
                bookmarked: true
            },
            {
                id: 4,
                author: "ë°°êµ¬ëŸ¬ë²„",
                time: "2ì‹œê°„ ì „",
                sport: "ë°°êµ¬",
                content: "ë°°êµ¬ ë™í˜¸íšŒ ëª¨ì§‘í•©ë‹ˆë‹¤! ì´ˆë³´ìë„ í™˜ì˜í•´ìš”. ë§¤ì£¼ í† ìš”ì¼ ì˜¤í›„ 2ì‹œì— ëª¨ì—¬ì„œ ì¬ë¯¸ìˆê²Œ ìš´ë™í•´ìš”!",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='200' viewBox='0 0 400 200'%3E%3Crect width='400' height='200' fill='%23fef3c7'/%3E%3Ctext x='200' y='100' text-anchor='middle' dy='.3em' font-family='Arial' font-size='16' fill='%23d97706'%3Eë°°êµ¬ì¥ ì‚¬ì§„%3C/text%3E%3C/svg%3E",
                tags: ["ë™í˜¸íšŒ", "ëª¨ì§‘", "ì´ˆë³´í™˜ì˜"],
                likes: 67,
                comments: 31,
                liked: false,
                bookmarked: false
            },
            {
                id: 5,
                author: "í…Œë‹ˆìŠ¤í”„ë¡œ",
                time: "3ì‹œê°„ ì „",
                sport: "í…Œë‹ˆìŠ¤",
                content: "ë°±í•¸ë“œ ì—°ìŠµ íŒ ê³µìœ í•´ìš”! ì²˜ìŒì—ëŠ” ì–´ë ¤ì› ëŠ”ë° ì´ ë°©ë²•ìœ¼ë¡œ ì—°ìŠµí•˜ë‹ˆê¹Œ í™•ì‹¤íˆ ëŠ˜ë”ë¼êµ¬ìš”!",
                image: null,
                tags: ["ë°±í•¸ë“œ", "ì—°ìŠµíŒ", "í…Œë‹ˆìŠ¤ë ˆìŠ¨"],
                likes: 203,
                comments: 45,
                liked: true,
                bookmarked: true
            },
            {
                id: 6,
                author: "ëŸ°ë‹ë©”ì´íŠ¸",
                time: "4ì‹œê°„ ì „",
                sport: "ëŸ¬ë‹",
                content: "í•œê°• ëŸ¬ë‹ ì½”ìŠ¤ ì¶”ì²œë“œë ¤ìš”! ì•¼ê²½ë„ ì˜ˆì˜ê³  ë°”ëŒë„ ì‹œì›í•´ì„œ ì •ë§ ì¢‹ì•˜ì–´ìš”!",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='200' viewBox='0 0 400 200'%3E%3Crect width='400' height='200' fill='%23dbeafe'/%3E%3Ctext x='200' y='100' text-anchor='middle' dy='.3em' font-family='Arial' font-size='16' fill='%232563eb'%3Eí•œê°• ì•¼ê²½ ì‚¬ì§„%3C/text%3E%3C/svg%3E",
                tags: ["í•œê°•ëŸ¬ë‹", "ì•¼ê²½", "ì½”ìŠ¤ì¶”ì²œ"],
                likes: 134,
                comments: 19,
                liked: false,
                bookmarked: false
            }
        ];

        // ëª¨ë‹¬ í‘œì‹œ/ìˆ¨ê¹€ í•¨ìˆ˜
        function showModal() {
            document.getElementById('authModal').classList.remove('hidden');
        }
        
        function hideModal() {
            document.getElementById('authModal').classList.add('hidden');
        }

        // íƒ­ ì „í™˜ ê¸°ëŠ¥
        const loginTab = document.getElementById('loginTab');
        const signupTab = document.getElementById('signupTab');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');

        loginTab.addEventListener('click', () => {
            loginTab.classList.add('bg-white', 'text-gray-900', 'shadow-sm');
            loginTab.classList.remove('text-gray-600');
            signupTab.classList.remove('bg-white', 'text-gray-900', 'shadow-sm');
            signupTab.classList.add('text-gray-600');
            
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
        });

        signupTab.addEventListener('click', () => {
            signupTab.classList.add('bg-white', 'text-gray-900', 'shadow-sm');
            signupTab.classList.remove('text-gray-600');
            loginTab.classList.remove('bg-white', 'text-gray-900', 'shadow-sm');
            loginTab.classList.add('text-gray-600');
            
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
        });

        // ìŠ¤í¬ì¸  ì„ íƒ ê¸°ëŠ¥ (ìµœëŒ€ 3ê°œ)
        function toggleSport(button) {
            const isSelected = button.classList.contains('selected');
            
            if (isSelected) {
                // ì„ íƒ í•´ì œ
                button.classList.remove('selected');
                selectedSports = selectedSports.filter(sport => sport !== button.textContent);
            } else {
                // ì„ íƒ (ìµœëŒ€ 3ê°œê¹Œì§€)
                if (selectedSports.length < 3) {
                    button.classList.add('selected');
                    selectedSports.push(button.textContent);
                } else {
                    alert('ìµœëŒ€ 3ê°œê¹Œì§€ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                }
            }
        }

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        document.getElementById('loginBtn').addEventListener('click', function(e) {
            e.preventDefault();
            const phone = document.getElementById('loginPhone').value;
            const password = document.getElementById('loginPassword').value;

            if (!phone || !password) {
                alert('ì „í™”ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ê°„ë‹¨í•œ ë¡œê·¸ì¸ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ì„œë²„ ì¸ì¦ í•„ìš”)
            currentUser = {
                phone: phone,
                nickname: phone.substring(0, 3) + "****" + phone.substring(7)
            };

            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').textContent = `${currentUser.nickname}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
            document.getElementById('userGreeting').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            document.getElementById('loginNavBtn').classList.add('hidden');
            document.getElementById('signupNavBtn').classList.add('hidden');
            
            hideModal();
            initializeFeed();
        });

        // íšŒì›ê°€ì… ì²˜ë¦¬
        document.getElementById('signupBtn').addEventListener('click', function(e) {
            e.preventDefault();
            
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const passwordConfirm = document.getElementById('signupPasswordConfirm').value;
            const requiredCheckboxes = signupForm.querySelectorAll('input[type="checkbox"][required]');

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!phone || !password || !passwordConfirm) {
                alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (password !== passwordConfirm) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }

            let allChecked = true;
            requiredCheckboxes.forEach(checkbox => {
                if (!checkbox.checked) {
                    allChecked = false;
                }
            });

            if (!allChecked) {
                alert('í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }

            // íšŒì›ê°€ì… ì„±ê³µ
            currentUser = {
                phone: phone,
                nickname: phone.substring(0, 3) + "****" + phone.substring(7),
                interests: [...selectedSports]
            };

            alert(`íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì„ íƒí•œ ìŠ¤í¬ì¸ : ${selectedSports.join(', ')}`);
            
            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').textContent = `${currentUser.nickname}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
            document.getElementById('userGreeting').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            document.getElementById('loginNavBtn').classList.add('hidden');
            document.getElementById('signupNavBtn').classList.add('hidden');
            
            hideModal();
            initializeFeed();
        });

        // ë„¤ë¹„ê²Œì´ì…˜ ë¡œê·¸ì¸ ë²„íŠ¼
        document.getElementById('loginNavBtn').addEventListener('click', function() {
            showModal();
            // ë¡œê·¸ì¸ íƒ­ìœ¼ë¡œ ì„¤ì •
            loginTab.click();
        });

        // ë„¤ë¹„ê²Œì´ì…˜ íšŒì›ê°€ì… ë²„íŠ¼
        document.getElementById('signupNavBtn').addEventListener('click', function() {
            showModal();
            // íšŒì›ê°€ì… íƒ­ìœ¼ë¡œ ì„¤ì •
            signupTab.click();
        });

        // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
        document.getElementById('closeModal').addEventListener('click', function() {
            hideModal();
        });

        // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ì‹œ ë‹«ê¸°
        document.getElementById('authModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideModal();
            }
        });

        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser = null;
            selectedSports = [];
            
            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').classList.add('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            document.getElementById('loginNavBtn').classList.remove('hidden');
            document.getElementById('signupNavBtn').classList.remove('hidden');
            
            // í¼ ì´ˆê¸°í™”
            document.getElementById('loginPhone').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('signupPhone').value = '';
            document.getElementById('signupPassword').value = '';
            document.getElementById('signupPasswordConfirm').value = '';
            
            // ìŠ¤í¬ì¸  ì„ íƒ ì´ˆê¸°í™”
            document.querySelectorAll('.sport-tag').forEach(tag => {
                tag.classList.remove('selected');
            });
        });

        // í”¼ë“œ ì´ˆê¸°í™”
        function initializeFeed() {
            currentPosts = [...samplePosts];
            renderPosts();
        }

        // ê²Œì‹œê¸€ ë Œë”ë§
        function renderPosts() {
            const container = document.getElementById('feedContainer');
            container.innerHTML = '';

            currentPosts.forEach(post => {
                const postElement = createPostElement(post);
                container.appendChild(postElement);
            });
        }

        // ê²Œì‹œê¸€ ìš”ì†Œ ìƒì„±
        function createPostElement(post) {
            const postDiv = document.createElement('div');
            postDiv.className = 'post-card mobile-card bg-white rounded-xl shadow-sm border border-gray-200 p-6 mobile-tap-highlight';
            
            postDiv.innerHTML = `
                <div class="flex items-start space-x-3 mb-4">
                    <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm font-medium">${post.author[0]}</span>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-medium text-gray-900">${post.author}</h3>
                            <span class="text-sm text-gray-500">â€¢</span>
                            <span class="text-sm text-gray-500">${post.time}</span>
                        </div>
                        <div class="flex items-center space-x-2 mt-1">
                            <span class="text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full">${post.sport}</span>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <p class="text-gray-800 leading-relaxed">${post.content}</p>
                </div>

                ${post.image ? `
                    <div class="mb-4">
                        <img src="${post.image}" alt="ê²Œì‹œê¸€ ì´ë¯¸ì§€" class="w-full h-48 object-cover post-image">
                    </div>
                ` : ''}

                <div class="flex flex-wrap gap-2 mb-4">
                    ${post.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                </div>

                <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                    <div class="flex items-center space-x-6">
                        <button class="like-btn flex items-center space-x-2 text-gray-600 hover:text-red-500 ${post.liked ? 'liked' : ''}" onclick="toggleLike(${post.id})">
                            <svg class="w-5 h-5" fill="${post.liked ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                            <span class="like-count">${post.likes}</span>
                        </button>
                        <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-500" onclick="showPostDetail(${post.id})">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                            <span>${post.comments}</span>
                        </button>
                        <button class="bookmark-btn flex items-center space-x-2 text-gray-600 hover:text-yellow-500 ${post.bookmarked ? 'bookmarked' : ''}" onclick="toggleBookmark(${post.id})">
                            <svg class="w-5 h-5" fill="${post.bookmarked ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="flex items-center space-x-2">
                        ${currentUser && post.author !== currentUser.nickname ? `
                            <button class="follow-btn px-3 py-1 text-sm border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-all duration-200 ${followingUsers.includes(post.author) ? 'following' : ''}" onclick="toggleFollow('${post.author}')">
                                ${followingUsers.includes(post.author) ? 'íŒ”ë¡œì‰' : 'íŒ”ë¡œìš°'}
                            </button>
                        ` : ''}
                        <button class="text-gray-400 hover:text-gray-600" onclick="showUserProfile('${post.author}')">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            `;

            return postDiv;
        }

        // ì¢‹ì•„ìš” í† ê¸€
        function toggleLike(postId) {
            const post = currentPosts.find(p => p.id === postId);
            if (post) {
                post.liked = !post.liked;
                post.likes += post.liked ? 1 : -1;
                renderPosts();
            }
        }

        // ëŒ“ê¸€ ë³´ê¸°
        function showComments(postId) {
            alert(`ê²Œì‹œê¸€ ${postId}ì˜ ëŒ“ê¸€ì„ ë³´ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‹¤ì œë¡œëŠ” ëŒ“ê¸€ ëª¨ë‹¬ì´ë‚˜ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
        }

        // ì •ë ¬ ì„¤ì •
        function setSort(sortType) {
            currentSort = sortType;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ì •ë ¬ ì ìš©
            if (sortType === 'latest') {
                currentPosts.sort((a, b) => a.id - b.id);
            } else if (sortType === 'popular') {
                currentPosts.sort((a, b) => b.likes - a.likes);
            } else if (sortType === 'following') {
                // íŒ”ë¡œì‰í•œ ì‚¬ìš©ìì˜ ê²Œì‹œê¸€ë§Œ í‘œì‹œ (ë°ëª¨ìš©ìœ¼ë¡œ ì¢‹ì•„ìš”í•œ ê²Œì‹œê¸€)
                currentPosts = samplePosts.filter(post => post.liked);
            }

            renderPosts();
        }

        // ìŠ¤í¬ì¸  í•„í„° ì„¤ì •
        function setSportFilter(sport) {
            currentSportFilter = sport;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.sport-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // í•„í„° ì ìš©
            if (sport === 'all') {
                currentPosts = [...samplePosts];
            } else {
                currentPosts = samplePosts.filter(post => post.sport === sport);
            }

            // í˜„ì¬ ì •ë ¬ ë‹¤ì‹œ ì ìš©
            setSort(currentSort);
        }

        // ë” ë³´ê¸° ë²„íŠ¼
        document.getElementById('loadMoreBtn').addEventListener('click', function() {
            alert('ë” ë§ì€ ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì¶”ê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.');
        });

        // ì „ì—­ ë³€ìˆ˜ ì¶”ê°€
        let selectedBoard = '';
        let currentPostId = null;
        let postComments = {};

        // ìƒ˜í”Œ ëŒ“ê¸€ ë°ì´í„°
        const sampleComments = {
            1: [
                {
                    id: 1,
                    author: "ì¶•êµ¬íŒ¬123",
                    content: "ì •ë§ ëŒ€ë°•ì´ì—ˆì£ ! ì €ë„ ë´¤ëŠ”ë° ë§ˆì§€ë§‰ ê³¨ì€ ì •ë§ ì˜ˆìˆ ì´ì—ˆì–´ìš”",
                    time: "1ë¶„ ì „",
                    likes: 5,
                    liked: false,
                    replies: [
                        {
                            id: 11,
                            author: "ì¶•êµ¬ë§¤ë‹ˆì•„",
                            content: "ë§ì•„ìš”! ê·¸ ìˆœê°„ ì†Œë¦„ë‹ì•˜ì–´ìš”!",
                            time: "ë°©ê¸ˆ ì „",
                            likes: 2,
                            liked: true
                        }
                    ]
                },
                {
                    id: 2,
                    author: "ìŠ¤í¬ì¸ ëŸ¬ë²„",
                    content: "ë‹¤ìŒ ê²½ê¸°ë„ ê¸°ëŒ€ë˜ë„¤ìš”!",
                    time: "5ë¶„ ì „",
                    likes: 3,
                    liked: true,
                    replies: []
                }
            ],
            2: [
                {
                    id: 3,
                    author: "ë†êµ¬ì´ˆë³´",
                    content: "ì–´ë–¤ ë¸Œëœë“œ ì‹ ë°œì¸ê°€ìš”? ì €ë„ ì‚¬ê³  ì‹¶ì–´ìš”!",
                    time: "10ë¶„ ì „",
                    likes: 8,
                    liked: false,
                    replies: []
                }
            ]
        };

        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜ ìˆ˜ì •
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        // ê¸€ì“°ê¸° ë²„íŠ¼
        document.querySelector('.floating-btn').addEventListener('click', function() {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }
            showPage('writePage');
        });

        // ë’¤ë¡œê°€ê¸° ë²„íŠ¼ë“¤
        document.getElementById('backToFeed').addEventListener('click', function() {
            showPage('feedPage');
        });

        document.getElementById('backToFeedFromDetail').addEventListener('click', function() {
            showPage('feedPage');
        });

        document.getElementById('backToFeedFromSearch').addEventListener('click', function() {
            showPage('feedPage');
        });

        // ê²€ìƒ‰ ë²„íŠ¼
        document.getElementById('searchBtn').addEventListener('click', function() {
            showPage('searchPage');
            loadSearchHistory();
        });

        // ê²€ìƒ‰ ì…ë ¥ ì´ë²¤íŠ¸
        const searchInput = document.getElementById('searchInput');
        const clearSearchBtn = document.getElementById('clearSearch');

        searchInput.addEventListener('input', function() {
            const value = this.value.trim();
            if (value) {
                clearSearchBtn.classList.remove('hidden');
                performSearch(value);
            } else {
                clearSearchBtn.classList.add('hidden');
                hideSearchResults();
            }
        });

        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const value = this.value.trim();
                if (value) {
                    addToSearchHistory(value);
                    performSearch(value);
                }
            }
        });

        clearSearchBtn.addEventListener('click', function() {
            searchInput.value = '';
            this.classList.add('hidden');
            hideSearchResults();
        });

        // ê²€ìƒ‰ í•„í„° ë²„íŠ¼ë“¤
        document.querySelectorAll('.search-scope-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setSearchFilter('scope', this.dataset.scope, '.search-scope-btn');
            });
        });

        document.querySelectorAll('.search-sport-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setSearchFilter('sport', this.dataset.sport, '.search-sport-btn');
            });
        });

        document.querySelectorAll('.search-date-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setSearchFilter('date', this.dataset.date, '.search-date-btn');
            });
        });

        document.querySelectorAll('.search-sort-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setSearchFilter('sort', this.dataset.sort, '.search-sort-btn');
            });
        });

        // ê²€ìƒ‰ ê¸°ë¡ ì‚­ì œ
        document.getElementById('clearHistory').addEventListener('click', function() {
            if (confirm('ëª¨ë“  ê²€ìƒ‰ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                searchHistory = [];
                localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                loadSearchHistory();
            }
        });

        // ê²€ìƒ‰ í•„í„° ì„¤ì •
        function setSearchFilter(type, value, selector) {
            currentSearchFilters[type] = value;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll(selector).forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // í˜„ì¬ ê²€ìƒ‰ì–´ê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ê²€ìƒ‰
            const currentQuery = searchInput.value.trim();
            if (currentQuery) {
                performSearch(currentQuery);
            }
        }

        // ê²€ìƒ‰ ìˆ˜í–‰
        function performSearch(query) {
            const results = searchContent(query);
            displaySearchResults(results, query);
        }

        // ê²€ìƒ‰ ë¡œì§
        function searchContent(query) {
            const lowerQuery = query.toLowerCase();
            let results = [];

            // ê²Œì‹œê¸€ ê²€ìƒ‰
            if (currentSearchFilters.scope === 'all' || currentSearchFilters.scope === 'posts') {
                samplePosts.forEach(post => {
                    let score = 0;
                    let matchedFields = [];

                    // ì œëª© ê²€ìƒ‰
                    if (post.title && post.title.toLowerCase().includes(lowerQuery)) {
                        score += 10;
                        matchedFields.push('title');
                    }

                    // ë‚´ìš© ê²€ìƒ‰
                    if (post.content.toLowerCase().includes(lowerQuery)) {
                        score += 5;
                        matchedFields.push('content');
                    }

                    // ì‘ì„±ì ê²€ìƒ‰
                    if (post.author.toLowerCase().includes(lowerQuery)) {
                        score += 8;
                        matchedFields.push('author');
                    }

                    // íƒœê·¸ ê²€ìƒ‰
                    post.tags.forEach(tag => {
                        if (tag.toLowerCase().includes(lowerQuery)) {
                            score += 7;
                            matchedFields.push('tags');
                        }
                    });

                    // ì¢…ëª© í•„í„° ì ìš©
                    if (currentSearchFilters.sport !== 'all' && post.sport !== currentSearchFilters.sport) {
                        score = 0;
                    }

                    if (score > 0) {
                        results.push({
                            type: 'post',
                            data: post,
                            score: score,
                            matchedFields: matchedFields
                        });
                    }
                });
            }

            // ëŒ“ê¸€ ê²€ìƒ‰
            if (currentSearchFilters.scope === 'all' || currentSearchFilters.scope === 'comments') {
                Object.keys(sampleComments).forEach(postId => {
                    const comments = sampleComments[postId];
                    comments.forEach(comment => {
                        let score = 0;
                        let matchedFields = [];

                        if (comment.content.toLowerCase().includes(lowerQuery)) {
                            score += 3;
                            matchedFields.push('content');
                        }

                        if (comment.author.toLowerCase().includes(lowerQuery)) {
                            score += 5;
                            matchedFields.push('author');
                        }

                        // ë‹µê¸€ë„ ê²€ìƒ‰
                        comment.replies.forEach(reply => {
                            if (reply.content.toLowerCase().includes(lowerQuery)) {
                                score += 2;
                                matchedFields.push('reply');
                            }
                        });

                        if (score > 0) {
                            const relatedPost = samplePosts.find(p => p.id == postId);
                            results.push({
                                type: 'comment',
                                data: comment,
                                relatedPost: relatedPost,
                                score: score,
                                matchedFields: matchedFields
                            });
                        }
                    });
                });
            }

            // ìœ ì € ê²€ìƒ‰
            if (currentSearchFilters.scope === 'all' || currentSearchFilters.scope === 'users') {
                const uniqueUsers = [...new Set(samplePosts.map(p => p.author))];
                uniqueUsers.forEach(user => {
                    if (user.toLowerCase().includes(lowerQuery)) {
                        const userPosts = samplePosts.filter(p => p.author === user);
                        results.push({
                            type: 'user',
                            data: {
                                name: user,
                                postCount: userPosts.length,
                                totalLikes: userPosts.reduce((sum, p) => sum + p.likes, 0)
                            },
                            score: 6,
                            matchedFields: ['name']
                        });
                    }
                });
            }

            // íƒœê·¸ ê²€ìƒ‰
            if (currentSearchFilters.scope === 'all' || currentSearchFilters.scope === 'tags') {
                const allTags = [...new Set(samplePosts.flatMap(p => p.tags))];
                allTags.forEach(tag => {
                    if (tag.toLowerCase().includes(lowerQuery)) {
                        const tagPosts = samplePosts.filter(p => p.tags.includes(tag));
                        results.push({
                            type: 'tag',
                            data: {
                                name: tag,
                                postCount: tagPosts.length
                            },
                            score: 4,
                            matchedFields: ['name']
                        });
                    }
                });
            }

            // ì •ë ¬ ì ìš©
            if (currentSearchFilters.sort === 'relevance') {
                results.sort((a, b) => b.score - a.score);
            } else if (currentSearchFilters.sort === 'latest') {
                results.sort((a, b) => {
                    if (a.type === 'post' && b.type === 'post') {
                        return b.data.id - a.data.id;
                    }
                    return b.score - a.score;
                });
            } else if (currentSearchFilters.sort === 'popular') {
                results.sort((a, b) => {
                    if (a.type === 'post' && b.type === 'post') {
                        return b.data.likes - a.data.likes;
                    }
                    return b.score - a.score;
                });
            }

            return results;
        }

        // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
        function displaySearchResults(results, query) {
            const resultsContainer = document.getElementById('searchResultsContainer');
            const resultsSection = document.getElementById('searchResults');
            const resultCount = document.getElementById('searchResultCount');
            const popularSearches = document.getElementById('popularSearches');
            const searchHistory = document.getElementById('searchHistory');

            // ì¸ê¸° ê²€ìƒ‰ì–´ì™€ ê²€ìƒ‰ ê¸°ë¡ ìˆ¨ê¸°ê¸°
            popularSearches.classList.add('hidden');
            searchHistory.classList.add('hidden');

            // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            resultsSection.classList.remove('hidden');
            resultCount.textContent = `${results.length}ê°œ ê²°ê³¼`;

            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="text-center py-12">
                        <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.5-.9-6.1-2.4"></path>
                        </svg>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p class="text-gray-500">ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
                    </div>
                `;
                return;
            }

            resultsContainer.innerHTML = results.map(result => {
                switch (result.type) {
                    case 'post':
                        return createPostSearchResult(result.data, query);
                    case 'comment':
                        return createCommentSearchResult(result.data, result.relatedPost, query);
                    case 'user':
                        return createUserSearchResult(result.data, query);
                    case 'tag':
                        return createTagSearchResult(result.data, query);
                    default:
                        return '';
                }
            }).join('');
        }

        // ê²Œì‹œê¸€ ê²€ìƒ‰ ê²°ê³¼ ìƒì„±
        function createPostSearchResult(post, query) {
            const highlightedContent = highlightText(post.content, query);
            const highlightedTitle = post.title ? highlightText(post.title, query) : '';
            
            return `
                <div class="search-result-item bg-white rounded-lg border border-gray-200 p-4 cursor-pointer" onclick="showPostDetail(${post.id})">
                    <div class="flex items-start space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm font-medium">${post.author[0]}</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-gray-900">${highlightText(post.author, query)}</span>
                                <span class="text-sm text-gray-500">â€¢</span>
                                <span class="text-sm text-gray-500">${post.time}</span>
                                <span class="text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full">${post.sport}</span>
                            </div>
                            ${highlightedTitle ? `<h4 class="font-semibold text-gray-900 mb-2">${highlightedTitle}</h4>` : ''}
                            <p class="text-gray-700 mb-2 line-clamp-2">${highlightedContent}</p>
                            <div class="flex items-center space-x-4 text-sm text-gray-500">
                                <span>ì¢‹ì•„ìš” ${post.likes}</span>
                                <span>ëŒ“ê¸€ ${post.comments}</span>
                                <span class="text-xs bg-gray-100 px-2 py-1 rounded">ê²Œì‹œê¸€</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // ëŒ“ê¸€ ê²€ìƒ‰ ê²°ê³¼ ìƒì„±
        function createCommentSearchResult(comment, relatedPost, query) {
            const highlightedContent = highlightText(comment.content, query);
            
            return `
                <div class="search-result-item bg-white rounded-lg border border-gray-200 p-4 cursor-pointer" onclick="showPostDetail(${relatedPost.id})">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm">${comment.author[0]}</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-gray-900">${highlightText(comment.author, query)}</span>
                                <span class="text-sm text-gray-500">â€¢</span>
                                <span class="text-sm text-gray-500">${comment.time}</span>
                                <span class="text-xs bg-green-100 px-2 py-1 rounded">ëŒ“ê¸€</span>
                            </div>
                            <p class="text-gray-700 mb-2">${highlightedContent}</p>
                            <div class="text-sm text-gray-500">
                                <span class="font-medium">${relatedPost.author}</span>ì˜ ê²Œì‹œê¸€ì—ì„œ
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // ìœ ì € ê²€ìƒ‰ ê²°ê³¼ ìƒì„±
        function createUserSearchResult(user, query) {
            return `
                <div class="search-result-item bg-white rounded-lg border border-gray-200 p-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
                            <span class="text-white font-medium">${user.name[0]}</span>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-900">${highlightText(user.name, query)}</h4>
                            <div class="flex items-center space-x-4 text-sm text-gray-500 mt-1">
                                <span>ê²Œì‹œê¸€ ${user.postCount}ê°œ</span>
                                <span>ì´ ì¢‹ì•„ìš” ${user.totalLikes}ê°œ</span>
                                <span class="text-xs bg-purple-100 px-2 py-1 rounded">ìœ ì €</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // íƒœê·¸ ê²€ìƒ‰ ê²°ê³¼ ìƒì„±
        function createTagSearchResult(tag, query) {
            return `
                <div class="search-result-item bg-white rounded-lg border border-gray-200 p-4 cursor-pointer" onclick="searchKeyword('${tag.name}')">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold">#</span>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-900">#${highlightText(tag.name, query)}</h4>
                            <div class="flex items-center space-x-4 text-sm text-gray-500 mt-1">
                                <span>ê²Œì‹œê¸€ ${tag.postCount}ê°œ</span>
                                <span class="text-xs bg-yellow-100 px-2 py-1 rounded">íƒœê·¸</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // í…ìŠ¤íŠ¸ í•˜ì´ë¼ì´íŠ¸
        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="search-highlight">$1</span>');
        }

        // ê²€ìƒ‰ ê²°ê³¼ ìˆ¨ê¸°ê¸°
        function hideSearchResults() {
            document.getElementById('searchResults').classList.add('hidden');
            document.getElementById('popularSearches').classList.remove('hidden');
            document.getElementById('searchHistory').classList.remove('hidden');
        }

        // ì¸ê¸° ê²€ìƒ‰ì–´ í´ë¦­
        function searchKeyword(keyword) {
            searchInput.value = keyword;
            clearSearchBtn.classList.remove('hidden');
            addToSearchHistory(keyword);
            performSearch(keyword);
        }

        // ê²€ìƒ‰ ê¸°ë¡ ì¶”ê°€
        function addToSearchHistory(query) {
            // ì¤‘ë³µ ì œê±°
            searchHistory = searchHistory.filter(item => item !== query);
            // ë§¨ ì•ì— ì¶”ê°€
            searchHistory.unshift(query);
            // ìµœëŒ€ 10ê°œê¹Œì§€ë§Œ ì €ì¥
            if (searchHistory.length > 10) {
                searchHistory = searchHistory.slice(0, 10);
            }
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
            loadSearchHistory();
        }

        // ê²€ìƒ‰ ê¸°ë¡ ë¡œë“œ
        function loadSearchHistory() {
            const saved = localStorage.getItem('searchHistory');
            if (saved) {
                searchHistory = JSON.parse(saved);
            }

            const container = document.getElementById('searchHistoryContainer');
            if (searchHistory.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">ê²€ìƒ‰ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤</p>';
                return;
            }

            container.innerHTML = searchHistory.map(query => `
                <div class="history-item flex items-center justify-between p-3 rounded-lg border border-gray-200">
                    <button class="flex-1 text-left text-gray-700 hover:text-indigo-600" onclick="searchKeyword('${query}')">${query}</button>
                    <button class="text-gray-400 hover:text-red-500 ml-2" onclick="removeFromHistory('${query}')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        // ê²€ìƒ‰ ê¸°ë¡ì—ì„œ ì œê±°
        function removeFromHistory(query) {
            searchHistory = searchHistory.filter(item => item !== query);
            localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
            loadSearchHistory();
        }

        // ê²Œì‹œíŒ ì„ íƒ ê¸°ëŠ¥
        document.querySelectorAll('.board-select').forEach(button => {
            button.addEventListener('click', function() {
                // ì´ì „ ì„ íƒ í•´ì œ
                document.querySelectorAll('.board-select').forEach(btn => {
                    btn.classList.remove('selected');
                });
                
                // í˜„ì¬ ì„ íƒ
                this.classList.add('selected');
                selectedBoard = this.dataset.board;
            });
        });

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥
        document.getElementById('imageUpload').addEventListener('click', function() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    if (file.size > 10 * 1024 * 1024) {
                        alert('íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById('previewImg').src = e.target.result;
                        document.getElementById('imagePreview').classList.remove('hidden');
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        });

        // ì´ë¯¸ì§€ ì œê±° ê¸°ëŠ¥
        document.getElementById('removeImage').addEventListener('click', function() {
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('previewImg').src = '';
        });

        // ê²Œì‹œê¸€ ë°œí–‰ ê¸°ëŠ¥
        document.getElementById('publishBtn').addEventListener('click', function() {
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const tags = document.getElementById('postTags').value;
            const imagePreview = document.getElementById('imagePreview');
            const hasImage = !imagePreview.classList.contains('hidden');

            if (!selectedBoard) {
                alert('ê²Œì‹œíŒì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!title.trim()) {
                alert('ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!content.trim()) {
                alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ìƒˆ ê²Œì‹œê¸€ ìƒì„±
            const newPost = {
                id: samplePosts.length + 1,
                author: currentUser.nickname,
                time: "ë°©ê¸ˆ ì „",
                sport: selectedBoard,
                title: title,
                content: content,
                image: hasImage ? document.getElementById('previewImg').src : null,
                tags: tags ? tags.split(',').map(tag => tag.trim()) : [],
                likes: 0,
                comments: 0,
                liked: false
            };

            // ê²Œì‹œê¸€ ëª©ë¡ì— ì¶”ê°€
            samplePosts.unshift(newPost);
            currentPosts = [...samplePosts];

            // í¼ ì´ˆê¸°í™”
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.getElementById('postTags').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
            document.querySelectorAll('.board-select').forEach(btn => {
                btn.classList.remove('selected');
            });
            selectedBoard = '';

            alert('ê²Œì‹œê¸€ì´ ì„±ê³µì ìœ¼ë¡œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤!');
            showPage('feedPage');
            renderPosts();
        });

        // ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°
        function showPostDetail(postId) {
            const post = samplePosts.find(p => p.id === postId);
            if (!post) return;

            currentPostId = postId;
            
            // ê²Œì‹œê¸€ ë‚´ìš© ë Œë”ë§
            const detailContent = document.getElementById('postDetailContent');
            detailContent.innerHTML = `
                <div class="flex items-start space-x-3 mb-4">
                    <div class="w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-medium">${post.author[0]}</span>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-medium text-gray-900">${post.author}</h3>
                            <span class="text-sm text-gray-500">â€¢</span>
                            <span class="text-sm text-gray-500">${post.time}</span>
                        </div>
                        <div class="flex items-center space-x-2 mt-1">
                            <span class="text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full">${post.sport}</span>
                        </div>
                    </div>
                </div>

                ${post.title ? `<h1 class="text-2xl font-bold text-gray-900 mb-4">${post.title}</h1>` : ''}

                <div class="mb-4">
                    <p class="text-gray-800 leading-relaxed whitespace-pre-wrap">${post.content}</p>
                </div>

                ${post.image ? `
                    <div class="mb-4">
                        <img src="${post.image}" alt="ê²Œì‹œê¸€ ì´ë¯¸ì§€" class="w-full rounded-lg">
                    </div>
                ` : ''}

                <div class="flex flex-wrap gap-2 mb-4">
                    ${post.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                </div>

                <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                    <div class="flex items-center space-x-6">
                        <button class="like-btn flex items-center space-x-2 text-gray-600 hover:text-red-500 ${post.liked ? 'liked' : ''}" onclick="toggleLike(${post.id})">
                            <svg class="w-5 h-5" fill="${post.liked ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                            <span class="like-count">${post.likes}</span>
                        </button>
                        <div class="flex items-center space-x-2 text-gray-600">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                            <span>${post.comments}</span>
                        </div>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600" onclick="reportPost(${post.id})">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                        </svg>
                    </button>
                </div>
            `;

            // ëŒ“ê¸€ ë Œë”ë§
            renderComments(postId);
            
            showPage('postDetailPage');
        }

        // ëŒ“ê¸€ ë Œë”ë§
        function renderComments(postId) {
            const comments = sampleComments[postId] || [];
            const commentsList = document.getElementById('commentsList');
            const commentCount = document.getElementById('commentCount');
            
            // ëŒ“ê¸€ ìˆ˜ ê³„ì‚° (ëŒ€ëŒ“ê¸€ í¬í•¨)
            let totalComments = 0;
            comments.forEach(comment => {
                totalComments += 1 + comment.replies.length;
            });
            
            commentCount.textContent = totalComments;

            if (comments.length === 0) {
                commentsList.innerHTML = '<p class="text-gray-500 text-center py-8">ì²« ë²ˆì§¸ ëŒ“ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>';
                return;
            }

            commentsList.innerHTML = comments.map(comment => `
                <div class="comment-item p-4 rounded-lg">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-sm">${comment.author[0]}</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-gray-900">${comment.author}</span>
                                <span class="text-sm text-gray-500">${comment.time}</span>
                            </div>
                            <p class="text-gray-800 mb-2">${comment.content}</p>
                            <div class="flex items-center space-x-4 text-sm">
                                <button class="comment-like-btn text-gray-500 hover:text-red-500 ${comment.liked ? 'liked' : ''}" onclick="toggleCommentLike(${comment.id})">
                                    <span class="inline-flex items-center space-x-1">
                                        <svg class="w-4 h-4" fill="${comment.liked ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                        </svg>
                                        <span>${comment.likes || 0}</span>
                                    </span>
                                </button>
                                <button class="text-gray-500 hover:text-indigo-600" onclick="replyToComment(${comment.id})">ë‹µê¸€</button>
                                <button class="text-gray-500 hover:text-red-600" onclick="reportComment(${comment.id})">ì‹ ê³ </button>
                            </div>
                        </div>
                    </div>
                    
                    ${comment.replies.length > 0 ? `
                        <div class="ml-11 mt-4 space-y-3">
                            ${comment.replies.map(reply => `
                                <div class="reply-item p-3 rounded-lg">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-6 h-6 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center">
                                            <span class="text-white text-xs">${reply.author[0]}</span>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="font-medium text-gray-900 text-sm">${reply.author}</span>
                                                <span class="text-xs text-gray-500">${reply.time}</span>
                                            </div>
                                            <p class="text-gray-800 text-sm">${reply.content}</p>
                                            <div class="flex items-center space-x-3 text-xs mt-1">
                                                <button class="comment-like-btn text-gray-500 hover:text-red-500 ${reply.liked ? 'liked' : ''}" onclick="toggleCommentLike(${reply.id})">
                                                    <span class="inline-flex items-center space-x-1">
                                                        <svg class="w-3 h-3" fill="${reply.liked ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                                        </svg>
                                                        <span>${reply.likes || 0}</span>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // ëŒ“ê¸€ ì‘ì„±
        document.getElementById('submitComment').addEventListener('click', function() {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }

            const commentInput = document.getElementById('commentInput');
            const content = commentInput.value.trim();

            if (!content) {
                alert('ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ëŒ“ê¸€ ë°ì´í„° ì´ˆê¸°í™”
            if (!sampleComments[currentPostId]) {
                sampleComments[currentPostId] = [];
            }

            // ìƒˆ ëŒ“ê¸€ ì¶”ê°€
            const newComment = {
                id: Date.now(),
                author: currentUser.nickname,
                content: content,
                time: "ë°©ê¸ˆ ì „",
                replies: []
            };

            sampleComments[currentPostId].unshift(newComment);

            // ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ìˆ˜ ì¦ê°€
            const post = samplePosts.find(p => p.id === currentPostId);
            if (post) {
                post.comments++;
            }

            // ëŒ“ê¸€ ì…ë ¥ì°½ ì´ˆê¸°í™”
            commentInput.value = '';

            // ëŒ“ê¸€ ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§
            renderComments(currentPostId);
            
            // í”¼ë“œì˜ ê²Œì‹œê¸€ë„ ì—…ë°ì´íŠ¸
            renderPosts();
        });

        // ë‹µê¸€ ê¸°ëŠ¥
        function replyToComment(commentId) {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            const replyContent = prompt('ë‹µê¸€ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!replyContent || !replyContent.trim()) return;

            const comment = sampleComments[currentPostId].find(c => c.id === commentId);
            if (comment) {
                const newReply = {
                    id: Date.now(),
                    author: currentUser.nickname,
                    content: replyContent.trim(),
                    time: "ë°©ê¸ˆ ì „"
                };

                comment.replies.push(newReply);

                // ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ìˆ˜ ì¦ê°€
                const post = samplePosts.find(p => p.id === currentPostId);
                if (post) {
                    post.comments++;
                }

                renderComments(currentPostId);
                renderPosts();
            }
        }

        // ëŒ“ê¸€ ì¢‹ì•„ìš” í† ê¸€
        function toggleCommentLike(commentId) {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }

            // í˜„ì¬ ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ì—ì„œ ì°¾ê¸°
            const comments = sampleComments[currentPostId];
            if (!comments) return;

            let comment = comments.find(c => c.id === commentId);
            if (!comment) {
                // ë‹µê¸€ì—ì„œ ì°¾ê¸°
                for (let c of comments) {
                    const reply = c.replies.find(r => r.id === commentId);
                    if (reply) {
                        comment = reply;
                        break;
                    }
                }
            }

            if (comment) {
                comment.liked = !comment.liked;
                comment.likes = (comment.likes || 0) + (comment.liked ? 1 : -1);
                
                // ëŒ“ê¸€ ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§
                renderComments(currentPostId);
            }
        }

        // ì‹ ê³  ê¸°ëŠ¥
        function reportPost(postId) {
            if (confirm('ì´ ê²Œì‹œê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  í›„ ì¡°ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.');
            }
        }

        function reportComment(commentId) {
            if (confirm('ì´ ëŒ“ê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  í›„ ì¡°ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.');
            }
        }

        // ëŒ“ê¸€ ë³´ê¸° í•¨ìˆ˜ ì œê±° (showPostDetailë¡œ ëŒ€ì²´)
        function showComments(postId) {
            showPostDetail(postId);
        }

        // ì•Œë¦¼ ì‹œìŠ¤í…œ í•¨ìˆ˜ë“¤
        function initializeNotifications() {
            notifications = [...sampleNotifications];
            updateNotificationBadge();
            loadNotificationSettings();
        }

        function updateNotificationBadge() {
            const badge = document.getElementById('notificationBadge');
            const unreadCount = notifications.filter(n => !n.read).length;
            
            if (unreadCount > 0) {
                badge.textContent = unreadCount > 99 ? '99+' : unreadCount;
                badge.classList.remove('hidden');
                badge.classList.add('notification-badge-pulse');
            } else {
                badge.classList.add('hidden');
                badge.classList.remove('notification-badge-pulse');
            }
        }

        function renderNotifications() {
            const notificationList = document.getElementById('notificationList');
            
            if (notifications.length === 0) {
                notificationList.innerHTML = `
                    <div class="p-8 text-center">
                        <svg class="w-12 h-12 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <p class="text-gray-500">ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                `;
                return;
            }

            notificationList.innerHTML = notifications.map(notification => {
                const iconMap = {
                    like: 'â¤ï¸',
                    comment: 'ğŸ’¬',
                    follow_post: 'ğŸ“',
                    hot_issue: 'ğŸ”¥',
                    mention: 'ğŸ‘¤',
                    new_follower: 'ğŸ‘¥'
                };

                const colorMap = {
                    like: 'text-red-500',
                    comment: 'text-blue-500',
                    follow_post: 'text-green-500',
                    hot_issue: 'text-orange-500',
                    mention: 'text-purple-500',
                    new_follower: 'text-indigo-500'
                };

                return `
                    <div class="notification-item p-4 cursor-pointer ${!notification.read ? 'unread' : ''}" onclick="handleNotificationClick(${notification.id})">
                        <div class="flex items-start space-x-3">
                            <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
                                <span class="text-lg">${iconMap[notification.type] || 'ğŸ“¢'}</span>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-medium text-gray-900 truncate">${notification.title}</p>
                                    <span class="text-xs text-gray-500">${notification.time}</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-1 line-clamp-2">${notification.message}</p>
                                ${!notification.read ? '<div class="w-2 h-2 bg-indigo-600 rounded-full mt-2"></div>' : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function handleNotificationClick(notificationId) {
            const notification = notifications.find(n => n.id === notificationId);
            if (!notification) return;

            // ì½ìŒ ì²˜ë¦¬
            notification.read = true;
            updateNotificationBadge();
            renderNotifications();

            // ì•Œë¦¼ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
            document.getElementById('notificationDropdown').classList.add('hidden');

            // ê´€ë ¨ í˜ì´ì§€ë¡œ ì´ë™
            if (notification.postId) {
                showPostDetail(notification.postId);
            } else if (notification.type === 'new_follower') {
                // íŒ”ë¡œì›Œ í˜ì´ì§€ë¡œ ì´ë™ (êµ¬í˜„ë˜ë©´)
                alert('íŒ”ë¡œì›Œ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
            }
        }

        function markAllNotificationsRead() {
            notifications.forEach(n => n.read = true);
            updateNotificationBadge();
            renderNotifications();
        }

        function addNotification(type, message, postId = null, userId = null) {
            // ì•Œë¦¼ ì„¤ì • í™•ì¸
            const settingKey = type.replace('_', '');
            if (!notificationSettings[settingKey]) return;

            // ë°©í•´ ê¸ˆì§€ ëª¨ë“œ í™•ì¸
            if (notificationSettings.doNotDisturb) {
                const now = new Date();
                const hour = now.getHours();
                if (hour >= 22 || hour < 8) return;
            }

            const newNotification = {
                id: Date.now(),
                type: type,
                title: getNotificationTitle(type),
                message: message,
                time: 'ë°©ê¸ˆ ì „',
                read: false,
                postId: postId,
                userId: userId
            };

            notifications.unshift(newNotification);
            updateNotificationBadge();
            
            // í† ìŠ¤íŠ¸ ì•Œë¦¼ í‘œì‹œ
            showNotificationToast(newNotification);
        }

        function getNotificationTitle(type) {
            const titleMap = {
                like: 'ì¢‹ì•„ìš” ì•Œë¦¼',
                comment: 'ëŒ“ê¸€ ì•Œë¦¼',
                follow_post: 'ìƒˆ ê²Œì‹œê¸€',
                hot_issue: 'í•«ì´ìŠˆ ì•Œë¦¼',
                mention: 'ë©˜ì…˜ ì•Œë¦¼',
                new_follower: 'ìƒˆ íŒ”ë¡œì›Œ'
            };
            return titleMap[type] || 'ì•Œë¦¼';
        }

        function showNotificationToast(notification) {
            // í† ìŠ¤íŠ¸ ì•Œë¦¼ ìƒì„±
            const toast = document.createElement('div');
            toast.className = 'notification-toast bg-white rounded-lg shadow-lg border border-gray-200 p-4 max-w-sm';
            toast.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center">
                        <svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-900">${notification.title}</p>
                        <p class="text-sm text-gray-600 mt-1">${notification.message}</p>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;

            document.body.appendChild(toast);
            
            // ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í‘œì‹œ
            setTimeout(() => toast.classList.add('show'), 100);
            
            // 5ì´ˆ í›„ ìë™ ì œê±°
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }

        function loadNotificationSettings() {
            const saved = localStorage.getItem('notificationSettings');
            if (saved) {
                notificationSettings = { ...notificationSettings, ...JSON.parse(saved) };
            }
            
            // UIì— ì„¤ì • ë°˜ì˜
            document.getElementById('commentNotification').checked = notificationSettings.comment;
            document.getElementById('likeNotification').checked = notificationSettings.like;
            document.getElementById('mentionNotification').checked = notificationSettings.mention;
            document.getElementById('followPostNotification').checked = notificationSettings.followPost;
            document.getElementById('newFollowerNotification').checked = notificationSettings.newFollower;
            document.getElementById('hotIssueNotification').checked = notificationSettings.hotIssue;
            document.getElementById('matchResultNotification').checked = notificationSettings.matchResult;
            document.getElementById('doNotDisturbMode').checked = notificationSettings.doNotDisturb;
        }

        function saveNotificationSettings() {
            notificationSettings = {
                comment: document.getElementById('commentNotification').checked,
                like: document.getElementById('likeNotification').checked,
                mention: document.getElementById('mentionNotification').checked,
                followPost: document.getElementById('followPostNotification').checked,
                newFollower: document.getElementById('newFollowerNotification').checked,
                hotIssue: document.getElementById('hotIssueNotification').checked,
                matchResult: document.getElementById('matchResultNotification').checked,
                doNotDisturb: document.getElementById('doNotDisturbMode').checked
            };
            
            localStorage.setItem('notificationSettings', JSON.stringify(notificationSettings));
            document.getElementById('notificationSettingsModal').classList.add('hidden');
            alert('ì•Œë¦¼ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // ì•Œë¦¼ ê´€ë ¨ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('notificationBtn').addEventListener('click', function() {
            const dropdown = document.getElementById('notificationDropdown');
            dropdown.classList.toggle('hidden');
            if (!dropdown.classList.contains('hidden')) {
                renderNotifications();
            }
        });

        document.getElementById('markAllRead').addEventListener('click', function() {
            markAllNotificationsRead();
        });

        document.getElementById('notificationSettings').addEventListener('click', function() {
            document.getElementById('notificationDropdown').classList.add('hidden');
            document.getElementById('notificationSettingsModal').classList.remove('hidden');
        });

        document.getElementById('closeNotificationSettings').addEventListener('click', function() {
            document.getElementById('notificationSettingsModal').classList.add('hidden');
        });

        document.getElementById('cancelNotificationSettings').addEventListener('click', function() {
            document.getElementById('notificationSettingsModal').classList.add('hidden');
            loadNotificationSettings(); // ì›ë˜ ì„¤ì •ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
        });

        document.getElementById('saveNotificationSettings').addEventListener('click', function() {
            saveNotificationSettings();
        });

        // ì•Œë¦¼ ë“œë¡­ë‹¤ìš´ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('notificationDropdown');
            const button = document.getElementById('notificationBtn');
            
            if (!dropdown.contains(e.target) && !button.contains(e.target)) {
                dropdown.classList.add('hidden');
            }
        });

        // ì¢‹ì•„ìš” í† ê¸€ í•¨ìˆ˜ ìˆ˜ì • (ì•Œë¦¼ ì¶”ê°€)
        function toggleLike(postId) {
            const post = currentPosts.find(p => p.id === postId);
            if (post) {
                const wasLiked = post.liked;
                post.liked = !post.liked;
                post.likes += post.liked ? 1 : -1;
                
                // ì¢‹ì•„ìš” ì•Œë¦¼ ì¶”ê°€ (ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ê²Œì‹œê¸€ì— ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ì„ ë•Œ)
                if (post.liked && currentUser && post.author !== currentUser.nickname) {
                    addNotification('like', `${currentUser.nickname}ë‹˜ì´ íšŒì›ë‹˜ì˜ ê²Œì‹œê¸€ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.`, postId);
                }
                
                renderPosts();
            }
        }

        // ëŒ“ê¸€ ì‘ì„± í•¨ìˆ˜ ìˆ˜ì • (ì•Œë¦¼ ì¶”ê°€)
        document.getElementById('submitComment').addEventListener('click', function() {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }

            const commentInput = document.getElementById('commentInput');
            const content = commentInput.value.trim();

            if (!content) {
                alert('ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ëŒ“ê¸€ ë°ì´í„° ì´ˆê¸°í™”
            if (!sampleComments[currentPostId]) {
                sampleComments[currentPostId] = [];
            }

            // ìƒˆ ëŒ“ê¸€ ì¶”ê°€
            const newComment = {
                id: Date.now(),
                author: currentUser.nickname,
                content: content,
                time: "ë°©ê¸ˆ ì „",
                replies: []
            };

            sampleComments[currentPostId].unshift(newComment);

            // ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ìˆ˜ ì¦ê°€
            const post = samplePosts.find(p => p.id === currentPostId);
            if (post) {
                post.comments++;
                
                // ëŒ“ê¸€ ì•Œë¦¼ ì¶”ê°€ (ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ë‹¬ì•˜ì„ ë•Œ)
                if (post.author !== currentUser.nickname) {
                    addNotification('comment', `${currentUser.nickname}ë‹˜ì´ íšŒì›ë‹˜ì˜ ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤: "${content.substring(0, 30)}${content.length > 30 ? '...' : ''}"`, currentPostId);
                }
            }

            // ëŒ“ê¸€ ì…ë ¥ì°½ ì´ˆê¸°í™”
            commentInput.value = '';

            // ëŒ“ê¸€ ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§
            renderComments(currentPostId);
            
            // í”¼ë“œì˜ ê²Œì‹œê¸€ë„ ì—…ë°ì´íŠ¸
            renderPosts();
        });

        // ê²Œì‹œê¸€ ë°œí–‰ í•¨ìˆ˜ ìˆ˜ì • (íŒ”ë¡œìš° ì•Œë¦¼ ì¶”ê°€)
        document.getElementById('publishBtn').addEventListener('click', function() {
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const tags = document.getElementById('postTags').value;
            const imagePreview = document.getElementById('imagePreview');
            const hasImage = !imagePreview.classList.contains('hidden');

            if (!selectedBoard) {
                alert('ê²Œì‹œíŒì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!title.trim()) {
                alert('ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!content.trim()) {
                alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ìƒˆ ê²Œì‹œê¸€ ìƒì„±
            const newPost = {
                id: samplePosts.length + 1,
                author: currentUser.nickname,
                time: "ë°©ê¸ˆ ì „",
                sport: selectedBoard,
                title: title,
                content: content,
                image: hasImage ? document.getElementById('previewImg').src : null,
                tags: tags ? tags.split(',').map(tag => tag.trim()) : [],
                likes: 0,
                comments: 0,
                liked: false
            };

            // ê²Œì‹œê¸€ ëª©ë¡ì— ì¶”ê°€
            samplePosts.unshift(newPost);
            currentPosts = [...samplePosts];

            // íŒ”ë¡œìš° ì•Œë¦¼ ì¶”ê°€ (íŒ”ë¡œì›Œë“¤ì—ê²Œ)
            addNotification('follow_post', `${currentUser.nickname}ë‹˜ì´ ìƒˆ ê²Œì‹œê¸€ì„ ì˜¬ë ¸ìŠµë‹ˆë‹¤: "${title}"`, newPost.id);

            // ê´€ì‹¬ ì¢…ëª© í•«ì´ìŠˆ ì•Œë¦¼ (ì¢‹ì•„ìš”ê°€ ë§ì´ ë°›ìœ¼ë©´)
            setTimeout(() => {
                if (newPost.likes > 50) {
                    addNotification('hot_issue', `${selectedBoard} ê´€ë ¨ ê²Œì‹œê¸€ì´ ì¸ê¸°ë¥¼ ëŒê³  ìˆìŠµë‹ˆë‹¤!`, newPost.id);
                }
            }, 30000); // 30ì´ˆ í›„ ì²´í¬

            // í¼ ì´ˆê¸°í™”
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.getElementById('postTags').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
            document.querySelectorAll('.board-select').forEach(btn => {
                btn.classList.remove('selected');
            });
            selectedBoard = '';

            alert('ê²Œì‹œê¸€ì´ ì„±ê³µì ìœ¼ë¡œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤!');
            showPage('feedPage');
            renderPosts();
        });

        // ë¶ë§ˆí¬ í† ê¸€ í•¨ìˆ˜
        function toggleBookmark(postId) {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }

            const post = currentPosts.find(p => p.id === postId);
            if (post) {
                post.bookmarked = !post.bookmarked;
                
                if (post.bookmarked) {
                    bookmarkedPosts.push(postId);
                    showNotificationToast({
                        title: 'ë¶ë§ˆí¬ ì¶”ê°€',
                        message: 'ê²Œì‹œê¸€ì´ ë³´ê´€í•¨ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.'
                    });
                } else {
                    bookmarkedPosts = bookmarkedPosts.filter(id => id !== postId);
                    showNotificationToast({
                        title: 'ë¶ë§ˆí¬ ì œê±°',
                        message: 'ê²Œì‹œê¸€ì´ ë³´ê´€í•¨ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.'
                    });
                }
                
                localStorage.setItem('bookmarkedPosts', JSON.stringify(bookmarkedPosts));
                renderPosts();
            }
        }

        // íŒ”ë¡œìš° í† ê¸€ í•¨ìˆ˜
        function toggleFollow(username) {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }

            const isFollowing = followingUsers.includes(username);
            
            if (isFollowing) {
                followingUsers = followingUsers.filter(user => user !== username);
                showNotificationToast({
                    title: 'íŒ”ë¡œìš° ì·¨ì†Œ',
                    message: `${username}ë‹˜ íŒ”ë¡œìš°ë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.`
                });
            } else {
                followingUsers.push(username);
                showNotificationToast({
                    title: 'íŒ”ë¡œìš° ì‹œì‘',
                    message: `${username}ë‹˜ì„ íŒ”ë¡œìš°í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.`
                });
                
                // ìƒˆ íŒ”ë¡œì›Œ ì•Œë¦¼ ì¶”ê°€
                addNotification('new_follower', `${currentUser.nickname}ë‹˜ì´ íšŒì›ë‹˜ì„ íŒ”ë¡œìš°í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.`, null, currentUser.nickname);
            }
            
            localStorage.setItem('followingUsers', JSON.stringify(followingUsers));
            renderPosts();
        }

        // ìœ ì € í”„ë¡œí•„ ë³´ê¸°
        function showUserProfile(username) {
            const profile = sampleUserProfiles[username];
            if (!profile) {
                alert('ì‚¬ìš©ì ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            const isFollowing = followingUsers.includes(username);
            const userPosts = samplePosts.filter(post => post.author === username);
            
            const profileContent = document.getElementById('profileContent');
            profileContent.innerHTML = `
                <!-- í”„ë¡œí•„ í—¤ë” -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <div class="flex items-start space-x-4">
                        <div class="w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-2xl font-bold">${username[0]}</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h1 class="text-2xl font-bold text-gray-900">${profile.nickname}</h1>
                                ${currentUser && username !== currentUser.nickname ? `
                                    <button class="follow-btn px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-all duration-200 ${isFollowing ? 'following' : ''}" onclick="toggleFollow('${username}')">
                                        ${isFollowing ? 'íŒ”ë¡œì‰' : 'íŒ”ë¡œìš°'}
                                    </button>
                                ` : ''}
                            </div>
                            <p class="text-gray-600 mb-4">${profile.bio}</p>
                            <div class="flex items-center space-x-6 text-sm">
                                <div class="text-center">
                                    <div class="font-bold text-gray-900">${profile.posts}</div>
                                    <div class="text-gray-500">ê²Œì‹œê¸€</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-bold text-gray-900">${profile.followers.toLocaleString()}</div>
                                    <div class="text-gray-500">íŒ”ë¡œì›Œ</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-bold text-gray-900">${profile.following}</div>
                                    <div class="text-gray-500">íŒ”ë¡œì‰</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ê´€ì‹¬ì‚¬ íƒœê·¸ -->
                    <div class="mt-4 pt-4 border-t border-gray-100">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">ê´€ì‹¬ì‚¬</h3>
                        <div class="flex flex-wrap gap-2">
                            ${profile.interests.map(interest => `
                                <span class="px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm">${interest}</span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="mt-4 text-sm text-gray-500">
                        ${profile.joinDate} ê°€ì…
                    </div>
                </div>

                <!-- ì‚¬ìš©ì ê²Œì‹œê¸€ -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">${username}ë‹˜ì˜ ê²Œì‹œê¸€ (${userPosts.length}ê°œ)</h2>
                    
                    ${userPosts.length === 0 ? `
                        <div class="text-center py-8">
                            <svg class="w-12 h-12 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.5-.9-6.1-2.4"></path>
                            </svg>
                            <p class="text-gray-500">ì•„ì§ ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</p>
                        </div>
                    ` : `
                        <div class="space-y-4">
                            ${userPosts.map(post => `
                                <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors" onclick="showPostDetail(${post.id})">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full">${post.sport}</span>
                                        <span class="text-sm text-gray-500">${post.time}</span>
                                    </div>
                                    <h3 class="font-medium text-gray-900 mb-2">${post.title || post.content.substring(0, 50) + '...'}</h3>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                                        <span>â¤ï¸ ${post.likes}</span>
                                        <span>ğŸ’¬ ${post.comments}</span>
                                        ${post.tags.length > 0 ? `<span>#${post.tags[0]}</span>` : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `}
                </div>
            `;
            
            showPage('profilePage');
        }

        // ë¶ë§ˆí¬ í˜ì´ì§€ ë Œë”ë§
        function renderBookmarks(filter = 'all') {
            const bookmarkedPostsData = samplePosts.filter(post => bookmarkedPosts.includes(post.id));
            let filteredPosts = bookmarkedPostsData;
            
            if (filter !== 'all') {
                filteredPosts = bookmarkedPostsData.filter(post => post.sport === filter);
            }
            
            const container = document.getElementById('bookmarkContainer');
            const emptyState = document.getElementById('emptyBookmarks');
            const countElement = document.getElementById('bookmarkCount');
            
            countElement.textContent = `${bookmarkedPostsData.length}ê°œ ì €ì¥ë¨`;
            
            if (filteredPosts.length === 0) {
                container.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');
            container.innerHTML = filteredPosts.map(post => createPostElement(post)).map(element => element.outerHTML).join('');
        }

        // ë¶ë§ˆí¬ í•„í„° ì„¤ì •
        function setBookmarkFilter(filter) {
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.bookmark-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderBookmarks(filter);
        }

        // ë’¤ë¡œê°€ê¸° ë²„íŠ¼ë“¤ ì¶”ê°€
        document.getElementById('backToFeedFromBookmark').addEventListener('click', function() {
            showPage('feedPage');
        });

        document.getElementById('backToFeedFromProfile').addEventListener('click', function() {
            showPage('feedPage');
        });

        // ë¶ë§ˆí¬ ë²„íŠ¼ ì´ë²¤íŠ¸
        document.getElementById('bookmarkBtn').addEventListener('click', function() {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }
            showPage('bookmarkPage');
            renderBookmarks();
        });

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¡œë“œ
        function loadUserData() {
            const savedBookmarks = localStorage.getItem('bookmarkedPosts');
            if (savedBookmarks) {
                bookmarkedPosts = JSON.parse(savedBookmarks);
                // ê²Œì‹œê¸€ ë¶ë§ˆí¬ ìƒíƒœ ì—…ë°ì´íŠ¸
                samplePosts.forEach(post => {
                    post.bookmarked = bookmarkedPosts.includes(post.id);
                });
            }
            
            const savedFollowing = localStorage.getItem('followingUsers');
            if (savedFollowing) {
                followingUsers = JSON.parse(savedFollowing);
            }
        }

        // ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        function initializeMobileNavigation() {
            // ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                document.getElementById('mobileSideMenu').classList.add('open');
                document.getElementById('mobileMenuOverlay').classList.add('show');
            });

            // ëª¨ë°”ì¼ ë©”ë‰´ ë‹«ê¸°
            document.getElementById('closeMobileMenu').addEventListener('click', function() {
                document.getElementById('mobileSideMenu').classList.remove('open');
                document.getElementById('mobileMenuOverlay').classList.remove('show');
            });

            // ì˜¤ë²„ë ˆì´ í´ë¦­ì‹œ ë©”ë‰´ ë‹«ê¸°
            document.getElementById('mobileMenuOverlay').addEventListener('click', function() {
                document.getElementById('mobileSideMenu').classList.remove('open');
                this.classList.remove('show');
            });

            // ëª¨ë°”ì¼ ì‚¬ì´ë“œ ë©”ë‰´ ë„¤ë¹„ê²Œì´ì…˜
            document.getElementById('mobileHomeBtn').addEventListener('click', function() {
                showPage('feedPage');
                closeMobileMenu();
                setActiveBottomNav('home');
            });

            document.getElementById('mobileSearchBtn').addEventListener('click', function() {
                showPage('searchPage');
                loadSearchHistory();
                closeMobileMenu();
                setActiveBottomNav('search');
            });

            document.getElementById('mobileBookmarkBtn').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                showPage('bookmarkPage');
                renderBookmarks();
                closeMobileMenu();
                setActiveBottomNav('bookmark');
            });

            document.getElementById('mobileWriteBtn').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                showPage('writePage');
                closeMobileMenu();
                setActiveBottomNav('write');
            });

            // ëª¨ë°”ì¼ ë¡œê·¸ì¸/íšŒì›ê°€ì… ë²„íŠ¼
            document.getElementById('mobileLoginBtn').addEventListener('click', function() {
                showModal();
                loginTab.click();
            });

            document.getElementById('mobileLoginFullBtn').addEventListener('click', function() {
                showModal();
                loginTab.click();
                closeMobileMenu();
            });

            document.getElementById('mobileSignupBtn').addEventListener('click', function() {
                showModal();
                signupTab.click();
                closeMobileMenu();
            });

            document.getElementById('mobileLogoutBtn').addEventListener('click', function() {
                currentUser = null;
                selectedSports = [];
                updateMobileUserUI();
                closeMobileMenu();
            });

            // ëª¨ë°”ì¼ ì•Œë¦¼ ë²„íŠ¼
            document.getElementById('mobileNotificationBtn').addEventListener('click', function() {
                document.getElementById('notificationBtn').click();
            });

            // í•˜ë‹¨ íƒ­ë°” ë„¤ë¹„ê²Œì´ì…˜
            document.getElementById('bottomNavHome').addEventListener('click', function() {
                showPage('feedPage');
                setActiveBottomNav('home');
            });

            document.getElementById('bottomNavSearch').addEventListener('click', function() {
                showPage('searchPage');
                loadSearchHistory();
                setActiveBottomNav('search');
            });

            document.getElementById('bottomNavWrite').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                showPage('writePage');
                setActiveBottomNav('write');
            });

            document.getElementById('bottomNavBookmark').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                showPage('bookmarkPage');
                renderBookmarks();
                setActiveBottomNav('bookmark');
            });

            document.getElementById('bottomNavProfile').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                // í˜„ì¬ ì‚¬ìš©ì í”„ë¡œí•„ ë³´ê¸°
                showUserProfile(currentUser.nickname);
                setActiveBottomNav('profile');
            });

            // í”Œë¡œíŒ… ë²„íŠ¼
            document.getElementById('floatingWriteBtn').addEventListener('click', function() {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showModal();
                    return;
                }
                showPage('writePage');
                setActiveBottomNav('write');
            });

            // ëª¨ë°”ì¼ ë¹ ë¥¸ ê²€ìƒ‰
            document.getElementById('mobileQuickSearch').addEventListener('focus', function() {
                showPage('searchPage');
                loadSearchHistory();
                setActiveBottomNav('search');
                // ê²€ìƒ‰ í˜ì´ì§€ì˜ ê²€ìƒ‰ ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
                setTimeout(() => {
                    document.getElementById('searchInput').focus();
                }, 100);
            });

            // í‚¤ë³´ë“œ ëŒ€ì‘
            let initialViewportHeight = window.innerHeight;
            window.addEventListener('resize', function() {
                // ëª¨ë°”ì¼ì—ì„œ í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™”ì„ ë•Œ ì²˜ë¦¬
                if (window.innerHeight < initialViewportHeight * 0.75) {
                    document.body.classList.add('keyboard-adjust');
                } else {
                    document.body.classList.remove('keyboard-adjust');
                }
            });

            // í„°ì¹˜ ì´ë²¤íŠ¸ ìµœì í™”
            let touchStartY = 0;
            let touchEndY = 0;

            document.addEventListener('touchstart', function(e) {
                touchStartY = e.changedTouches[0].screenY;
            });

            document.addEventListener('touchend', function(e) {
                touchEndY = e.changedTouches[0].screenY;
                handleSwipeGesture();
            });

            function handleSwipeGesture() {
                const swipeThreshold = 50;
                const diff = touchStartY - touchEndY;

                // ìœ„ë¡œ ìŠ¤ì™€ì´í”„ (ìƒˆë¡œê³ ì¹¨)
                if (diff > swipeThreshold && window.scrollY === 0) {
                    // ìƒˆë¡œê³ ì¹¨ ë¡œì§ (í•„ìš”ì‹œ êµ¬í˜„)
                }
            }
        }

        // ëª¨ë°”ì¼ ë©”ë‰´ ë‹«ê¸° í—¬í¼ í•¨ìˆ˜
        function closeMobileMenu() {
            document.getElementById('mobileSideMenu').classList.remove('open');
            document.getElementById('mobileMenuOverlay').classList.remove('show');
        }

        // í•˜ë‹¨ íƒ­ë°” í™œì„±í™” ìƒíƒœ ì„¤ì •
        function setActiveBottomNav(activeTab) {
            document.querySelectorAll('.mobile-bottom-nav-item').forEach(item => {
                item.classList.remove('active');
            });

            const tabMap = {
                'home': 'bottomNavHome',
                'search': 'bottomNavSearch',
                'write': 'bottomNavWrite',
                'bookmark': 'bottomNavBookmark',
                'profile': 'bottomNavProfile'
            };

            if (tabMap[activeTab]) {
                document.getElementById(tabMap[activeTab]).classList.add('active');
            }
        }

        // ëª¨ë°”ì¼ ì‚¬ìš©ì UI ì—…ë°ì´íŠ¸
        function updateMobileUserUI() {
            const mobileUserGreeting = document.getElementById('mobileUserGreeting');
            const mobileAuthSection = document.getElementById('mobileAuthSection');
            const mobileUserSection = document.getElementById('mobileUserSection');
            const mobileLoginBtn = document.getElementById('mobileLoginBtn');
            const mobileNotificationBadge = document.getElementById('mobileNotificationBadge');

            if (currentUser) {
                mobileUserGreeting.textContent = `${currentUser.nickname}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
                mobileAuthSection.classList.add('hidden');
                mobileUserSection.classList.remove('hidden');
                mobileLoginBtn.classList.add('hidden');
                
                // ì•Œë¦¼ ë°°ì§€ ë™ê¸°í™”
                const desktopBadge = document.getElementById('notificationBadge');
                if (!desktopBadge.classList.contains('hidden')) {
                    mobileNotificationBadge.textContent = desktopBadge.textContent;
                    mobileNotificationBadge.classList.remove('hidden');
                } else {
                    mobileNotificationBadge.classList.add('hidden');
                }
            } else {
                mobileUserGreeting.textContent = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤';
                mobileAuthSection.classList.remove('hidden');
                mobileUserSection.classList.add('hidden');
                mobileLoginBtn.classList.remove('hidden');
                mobileNotificationBadge.classList.add('hidden');
            }
        }

        // ë°˜ì‘í˜• ì´ë¯¸ì§€ ë¡œë”©
        function optimizeImagesForMobile() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.classList.add('responsive-image', 'no-drag');
                
                // ì§€ì—° ë¡œë”©
                if ('loading' in HTMLImageElement.prototype) {
                    img.loading = 'lazy';
                }
            });
        }

        // ë·°í¬íŠ¸ ë©”íƒ€ íƒœê·¸ ë™ì  ì„¤ì •
        function setViewportMeta() {
            let viewport = document.querySelector('meta[name=viewport]');
            if (!viewport) {
                viewport = document.createElement('meta');
                viewport.name = 'viewport';
                document.head.appendChild(viewport);
            }
            viewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover';
        }

        // ë¡œê·¸ì¸ ì²˜ë¦¬ í•¨ìˆ˜ ìˆ˜ì • (ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸ í¬í•¨)
        const originalLoginHandler = document.getElementById('loginBtn').onclick;
        document.getElementById('loginBtn').addEventListener('click', function(e) {
            e.preventDefault();
            const phone = document.getElementById('loginPhone').value;
            const password = document.getElementById('loginPassword').value;

            if (!phone || !password) {
                alert('ì „í™”ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ê°„ë‹¨í•œ ë¡œê·¸ì¸ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ì„œë²„ ì¸ì¦ í•„ìš”)
            currentUser = {
                phone: phone,
                nickname: phone.substring(0, 3) + "****" + phone.substring(7)
            };

            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').textContent = `${currentUser.nickname}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
            document.getElementById('userGreeting').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            document.getElementById('loginNavBtn').classList.add('hidden');
            document.getElementById('signupNavBtn').classList.add('hidden');
            
            // ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸
            updateMobileUserUI();
            
            hideModal();
            initializeFeed();
        });

        // íšŒì›ê°€ì… ì²˜ë¦¬ í•¨ìˆ˜ ìˆ˜ì • (ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸ í¬í•¨)
        document.getElementById('signupBtn').addEventListener('click', function(e) {
            e.preventDefault();
            
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const passwordConfirm = document.getElementById('signupPasswordConfirm').value;
            const requiredCheckboxes = signupForm.querySelectorAll('input[type="checkbox"][required]');

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!phone || !password || !passwordConfirm) {
                alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (password !== passwordConfirm) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }

            let allChecked = true;
            requiredCheckboxes.forEach(checkbox => {
                if (!checkbox.checked) {
                    allChecked = false;
                }
            });

            if (!allChecked) {
                alert('í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }

            // íšŒì›ê°€ì… ì„±ê³µ
            currentUser = {
                phone: phone,
                nickname: phone.substring(0, 3) + "****" + phone.substring(7),
                interests: [...selectedSports]
            };

            alert(`íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì„ íƒí•œ ìŠ¤í¬ì¸ : ${selectedSports.join(', ')}`);
            
            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').textContent = `${currentUser.nickname}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
            document.getElementById('userGreeting').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            document.getElementById('loginNavBtn').classList.add('hidden');
            document.getElementById('signupNavBtn').classList.add('hidden');
            
            // ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸
            updateMobileUserUI();
            
            hideModal();
            initializeFeed();
        });

        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ í•¨ìˆ˜ ìˆ˜ì • (ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸ í¬í•¨)
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser = null;
            selectedSports = [];
            
            // UI ìƒíƒœ ë³€ê²½
            document.getElementById('userGreeting').classList.add('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            document.getElementById('loginNavBtn').classList.remove('hidden');
            document.getElementById('signupNavBtn').classList.remove('hidden');
            
            // ëª¨ë°”ì¼ UI ì—…ë°ì´íŠ¸
            updateMobileUserUI();
            
            // í¼ ì´ˆê¸°í™”
            document.getElementById('loginPhone').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('signupPhone').value = '';
            document.getElementById('signupPassword').value = '';
            document.getElementById('signupPasswordConfirm').value = '';
            
            // ìŠ¤í¬ì¸  ì„ íƒ ì´ˆê¸°í™”
            document.querySelectorAll('.sport-tag').forEach(tag => {
                tag.classList.remove('selected');
            });
        });

        // í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            setViewportMeta();
            initializeMobileNavigation();
            updateMobileUserUI();
            optimizeImagesForMobile();
        });

        // ë°°ë„ˆ ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function initializeBanner() {
            loadBannerSettings();
            updateBannerDisplay();
            setupBannerEventListeners();
        }

        function loadBannerSettings() {
            const saved = localStorage.getItem('bannerSettings');
            if (saved) {
                bannerSettings = { ...bannerSettings, ...JSON.parse(saved) };
            }
        }

        function saveBannerSettings() {
            localStorage.setItem('bannerSettings', JSON.stringify(bannerSettings));
        }

        function updateBannerDisplay() {
            const banner = document.getElementById('eventBanner');
            const editBtn = document.getElementById('editBannerBtn');
            
            // ë°°ë„ˆ í‘œì‹œ/ìˆ¨ê¹€
            if (!bannerSettings.enabled || bannerSettings.dismissed) {
                banner.style.display = 'none';
                return;
            }
            
            banner.style.display = 'block';
            
            // ê´€ë¦¬ì í¸ì§‘ ë²„íŠ¼ í‘œì‹œ
            if (isAdmin) {
                editBtn.classList.remove('hidden');
            }
            
            // ë°°ë„ˆ ë‚´ìš© ì—…ë°ì´íŠ¸
            updateBannerContent();
        }

        function updateBannerContent() {
            const bannerContent = document.getElementById('bannerContent');
            const styleClasses = {
                'gradient-purple': 'bg-gradient-to-r from-purple-600 via-pink-600 to-red-600',
                'gradient-blue': 'bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600',
                'gradient-green': 'bg-gradient-to-r from-green-600 via-teal-600 to-blue-600',
                'gradient-orange': 'bg-gradient-to-r from-orange-600 via-red-600 to-pink-600',
                'solid-dark': 'bg-gray-900'
            };

            let backgroundStyle = '';
            if (bannerSettings.backgroundImage) {
                backgroundStyle = `background-image: url('${bannerSettings.backgroundImage}'); background-size: cover; background-position: center;`;
            }

            bannerContent.innerHTML = `
                <div class="${styleClasses[bannerSettings.style] || styleClasses['gradient-purple']} p-6 text-white" style="${backgroundStyle}">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs font-medium">ğŸ‰ íŠ¹ë³„ ì´ë²¤íŠ¸</span>
                                <span class="bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold">HOT</span>
                            </div>
                            <h2 class="text-xl font-bold mb-2">${bannerSettings.title}</h2>
                            <p class="text-sm opacity-90 mb-3">${bannerSettings.description}</p>
                            <div class="flex items-center space-x-4 text-sm">
                                <span>ğŸ“… ${bannerSettings.period}</span>
                                <span>ğŸ ${bannerSettings.reward}</span>
                            </div>
                        </div>
                        <div class="ml-4">
                            <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <span class="text-2xl">${bannerSettings.icon}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function showBannerEditor() {
            if (!isAdmin) {
                alert('ê´€ë¦¬ìë§Œ ë°°ë„ˆë¥¼ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                return;
            }
            
            // í˜„ì¬ ì„¤ì •ì„ í¼ì— ë¡œë“œ
            document.getElementById('bannerEnabled').checked = bannerSettings.enabled;
            document.getElementById('bannerTitleInput').value = bannerSettings.title;
            document.getElementById('bannerDescriptionInput').value = bannerSettings.description;
            document.getElementById('bannerPeriodInput').value = bannerSettings.period;
            document.getElementById('bannerRewardInput').value = bannerSettings.reward;
            document.getElementById('bannerIconInput').value = bannerSettings.icon;
            document.getElementById('bannerLinkInput').value = bannerSettings.link;
            
            // ìŠ¤íƒ€ì¼ ì„ íƒ ì—…ë°ì´íŠ¸
            updateStyleSelection(bannerSettings.style);
            
            // ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
            updateBannerPreview();
            
            document.getElementById('bannerEditorModal').classList.remove('hidden');
        }

        function updateStyleSelection(selectedStyle) {
            document.querySelectorAll('.banner-style-option').forEach(option => {
                option.classList.remove('border-indigo-500');
                option.classList.add('border-gray-300');
            });
            
            const selectedOption = document.querySelector(`[data-style="${selectedStyle}"]`);
            if (selectedOption) {
                selectedOption.classList.remove('border-gray-300');
                selectedOption.classList.add('border-indigo-500');
            }
            
            // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¹ì…˜ í‘œì‹œ/ìˆ¨ê¹€
            const imageSection = document.getElementById('imageUploadSection');
            if (selectedStyle === 'image-upload') {
                imageSection.classList.remove('hidden');
            } else {
                imageSection.classList.add('hidden');
            }
        }

        function updateBannerPreview() {
            const preview = document.getElementById('bannerPreview');
            const title = document.getElementById('bannerTitleInput').value;
            const description = document.getElementById('bannerDescriptionInput').value;
            const period = document.getElementById('bannerPeriodInput').value;
            const reward = document.getElementById('bannerRewardInput').value;
            const icon = document.getElementById('bannerIconInput').value;
            
            const selectedStyle = document.querySelector('.banner-style-option.border-indigo-500')?.dataset.style || 'gradient-purple';
            
            const styleClasses = {
                'gradient-purple': 'bg-gradient-to-r from-purple-600 via-pink-600 to-red-600',
                'gradient-blue': 'bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600',
                'gradient-green': 'bg-gradient-to-r from-green-600 via-teal-600 to-blue-600',
                'gradient-orange': 'bg-gradient-to-r from-orange-600 via-red-600 to-pink-600',
                'solid-dark': 'bg-gray-900'
            };

            let backgroundStyle = '';
            if (selectedStyle === 'image-upload' && bannerSettings.backgroundImage) {
                backgroundStyle = `background-image: url('${bannerSettings.backgroundImage}'); background-size: cover; background-position: center;`;
            }

            preview.innerHTML = `
                <div class="${styleClasses[selectedStyle] || styleClasses['gradient-purple']} p-6 text-white" style="${backgroundStyle}">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs font-medium">ğŸ‰ íŠ¹ë³„ ì´ë²¤íŠ¸</span>
                                <span class="bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold">HOT</span>
                            </div>
                            <h2 class="text-xl font-bold mb-2">${title || 'ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”'}</h2>
                            <p class="text-sm opacity-90 mb-3">${description || 'ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”'}</p>
                            <div class="flex items-center space-x-4 text-sm">
                                <span>ğŸ“… ${period || 'ê¸°ê°„'}</span>
                                <span>ğŸ ${reward || 'í˜œíƒ'}</span>
                            </div>
                        </div>
                        <div class="ml-4">
                            <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <span class="text-2xl">${icon || 'ğŸ'}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function saveBannerChanges() {
            bannerSettings.enabled = document.getElementById('bannerEnabled').checked;
            bannerSettings.title = document.getElementById('bannerTitleInput').value;
            bannerSettings.description = document.getElementById('bannerDescriptionInput').value;
            bannerSettings.period = document.getElementById('bannerPeriodInput').value;
            bannerSettings.reward = document.getElementById('bannerRewardInput').value;
            bannerSettings.icon = document.getElementById('bannerIconInput').value;
            bannerSettings.link = document.getElementById('bannerLinkInput').value;
            
            const selectedStyle = document.querySelector('.banner-style-option.border-indigo-500')?.dataset.style;
            if (selectedStyle) {
                bannerSettings.style = selectedStyle;
            }
            
            saveBannerSettings();
            updateBannerDisplay();
            document.getElementById('bannerEditorModal').classList.add('hidden');
            
            showNotificationToast({
                title: 'ë°°ë„ˆ ì €ì¥ ì™„ë£Œ',
                message: 'ë°°ë„ˆ ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.'
            });
        }

        function closeBanner() {
            bannerSettings.dismissed = true;
            saveBannerSettings();
            document.getElementById('eventBanner').style.display = 'none';
        }

        function showBannerDetail() {
            const detailContent = document.getElementById('bannerDetailContent');
            detailContent.innerHTML = `
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-3xl">${bannerSettings.icon}</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">${bannerSettings.title}</h3>
                    <p class="text-gray-600">${bannerSettings.description}</p>
                </div>
                
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ğŸ“…</span>
                            <div>
                                <p class="font-medium text-gray-900">ì´ë²¤íŠ¸ ê¸°ê°„</p>
                                <p class="text-sm text-gray-600">${bannerSettings.period}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ğŸ</span>
                            <div>
                                <p class="font-medium text-gray-900">í˜œíƒ</p>
                                <p class="text-sm text-gray-600">${bannerSettings.reward}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-4 bg-indigo-50 rounded-lg">
                        <h4 class="font-medium text-indigo-900 mb-2">ì°¸ì—¬ ë°©ë²•</h4>
                        <ol class="text-sm text-indigo-800 space-y-1">
                            <li>1. íšŒì›ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸</li>
                            <li>2. ì²« ê²Œì‹œê¸€ ì‘ì„±í•˜ê¸°</li>
                            <li>3. ìë™ìœ¼ë¡œ ì´ë²¤íŠ¸ ì°¸ì—¬ ì™„ë£Œ!</li>
                        </ol>
                    </div>
                </div>
            `;
            
            document.getElementById('bannerDetailModal').classList.remove('hidden');
        }

        function participateInEvent() {
            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showModal();
                return;
            }
            
            // ê¸€ì“°ê¸° í˜ì´ì§€ë¡œ ì´ë™
            document.getElementById('bannerDetailModal').classList.add('hidden');
            showPage('writePage');
            
            showNotificationToast({
                title: 'ì´ë²¤íŠ¸ ì°¸ì—¬',
                message: 'ê²Œì‹œê¸€ì„ ì‘ì„±í•˜ì—¬ ì´ë²¤íŠ¸ì— ì°¸ì—¬í•´ë³´ì„¸ìš”!'
            });
        }

        function setIcon(icon) {
            document.getElementById('bannerIconInput').value = icon;
            updateBannerPreview();
        }

        function setupBannerEventListeners() {
            // ë°°ë„ˆ í¸ì§‘ ëª¨ë‹¬ ì´ë²¤íŠ¸
            document.getElementById('closeBannerEditor').addEventListener('click', function() {
                document.getElementById('bannerEditorModal').classList.add('hidden');
            });

            document.getElementById('cancelBannerEdit').addEventListener('click', function() {
                document.getElementById('bannerEditorModal').classList.add('hidden');
            });

            document.getElementById('saveBannerChanges').addEventListener('click', function() {
                saveBannerChanges();
            });

            document.getElementById('previewBannerChanges').addEventListener('click', function() {
                updateBannerPreview();
            });

            // ë°°ë„ˆ ìƒì„¸ ëª¨ë‹¬ ì´ë²¤íŠ¸
            document.getElementById('closeBannerDetail').addEventListener('click', function() {
                document.getElementById('bannerDetailModal').classList.add('hidden');
            });

            document.getElementById('closeBannerDetailBtn').addEventListener('click', function() {
                document.getElementById('bannerDetailModal').classList.add('hidden');
            });

            document.getElementById('participateEvent').addEventListener('click', function() {
                participateInEvent();
            });

            // ìŠ¤íƒ€ì¼ ì„ íƒ ì´ë²¤íŠ¸
            document.querySelectorAll('.banner-style-option').forEach(option => {
                option.addEventListener('click', function() {
                    const style = this.dataset.style;
                    updateStyleSelection(style);
                    updateBannerPreview();
                });
            });

            // ì…ë ¥ í•„ë“œ ë³€ê²½ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
            const inputs = ['bannerTitleInput', 'bannerDescriptionInput', 'bannerPeriodInput', 'bannerRewardInput', 'bannerIconInput'];
            inputs.forEach(inputId => {
                document.getElementById(inputId).addEventListener('input', function() {
                    updateBannerPreview();
                });
            });

            // ë°°ë„ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ
            document.getElementById('bannerImageUpload').addEventListener('click', function() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        if (file.size > 5 * 1024 * 1024) {
                            alert('íŒŒì¼ í¬ê¸°ëŠ” 5MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                            return;
                        }
                        
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            bannerSettings.backgroundImage = e.target.result;
                            document.getElementById('bannerPreviewImg').src = e.target.result;
                            document.getElementById('bannerImagePreview').classList.remove('hidden');
                            updateBannerPreview();
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            });

            // ë°°ë„ˆ ì´ë¯¸ì§€ ì œê±°
            document.getElementById('removeBannerImage').addEventListener('click', function() {
                bannerSettings.backgroundImage = null;
                document.getElementById('bannerImagePreview').classList.add('hidden');
                document.getElementById('bannerPreviewImg').src = '';
                updateBannerPreview();
            });

            // ê´€ë¦¬ì ê¶Œí•œ í† ê¸€ (ë°ëª¨ìš© - ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ê´€ë¦¬)
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                    isAdmin = !isAdmin;
                    updateBannerDisplay();
                    alert(`ê´€ë¦¬ì ëª¨ë“œ: ${isAdmin ? 'ON' : 'OFF'}`);
                }
            });
        }

        // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ
        window.showBannerEditor = showBannerEditor;
        window.showBannerDetail = showBannerDetail;
        window.closeBanner = closeBanner;
        window.setIcon = setIcon;

        // í˜ì´ì§€ ë¡œë“œì‹œ í”¼ë“œ ë° ì•Œë¦¼ ì´ˆê¸°í™”
        loadUserData();
        initializeFeed();
        initializeNotifications();
        initializeBanner();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97435ef2a6d5aa53',t:'MTc1NjA0Mzk3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
